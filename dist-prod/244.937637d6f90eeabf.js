(self.webpackChunkproject=self.webpackChunkproject||[]).push([[244],{2244:(kt,b,I)=>{"use strict";I.r(b),I.d(b,{RateModule:()=>gt});var w=I(6895),f=I(9132),l=I(6373);class n{constructor(){this.Rate_Code=0,this.Other_Code="",this.Company_Code=0,this.Plant_Id=0,this.MCC_Id=0,this.Center_Code=0,this.Route_Code=0,this.Society_Code="",this.Effective_Date="",this.User_Id=0,this.Type="",this.Shift="",this.Rate_Type=0,this.Ip_Address="",this.Action="",this.Description="",this.Is_SameRateForAll_MilkType=!1,this.Is_SameRateForAll_Shift=!1,this.Is_Mixed_Milk_Only=!1,this.Is_Active=0,this.Is_Delete=0,this.SIM_No="",this.IMEI_No="",this.Is_Mixed=0,this.Rate_structure_id=0,this.buffCommission=0,this.cowCommission=0,this.Rate_BO_SP=[],this.fileformat="p"}}var h=I(2340),t=I(4650),C=I(529);class _{constructor(k){this.http=k,this.API_Url=h.N.API_Url}getRateAll(k){return this.http.post(this.API_Url+"RateDetail/All",k)}ExportRateAll(k){return this.http.post(this.API_Url+"RateDetail/ZipRate",k)}}_.\u0275fac=function(k){return new(k||_)(t.LFG(C.eN))},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});var v=I(7252),a=I(461),p=I(6325),r=I(6975),d=I(5968),s=I(2188),m=I(9427),y=I(6883),S=I(6770),R=I(5017),P=I(574),O=I(6338),q=I(5650),E=I(4363),H=I(8377),V=I(8455),g=I(7392),z=I(9203),i=I(5208),F=I(2793),rt=I(6838),N=I(4006),nt=I(1366);const G=["Society_Code"],it=["excelUpload"];function D(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.RateStructureId),t.xp6(1),t.hij(" ",c.RateStructureDesc," ")}}function T(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"div",2)(1,"div",7)(2,"mat-form-field")(3,"mat-label"),t._uU(4,"Description"),t.qZA(),t.TgZ(5,"input",8,9),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Description=Z)}),t.qZA(),t.TgZ(7,"mat-hint"),t._uU(8,"Hint"),t.qZA()()(),t.TgZ(9,"div",10)(10,"mat-form-field")(11,"mat-select",11,12),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Rate_structure_id=Z)}),t.TgZ(13,"mat-select-filter",13),t.NdJ("filteredReturn",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.listRateStructure=Z)}),t.qZA(),t.YNc(14,D,2,2,"mat-option",14),t.qZA()()(),t.TgZ(15,"div",15)(16,"mat-slide-toggle",16,17),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Is_SameRateForAll_MilkType=Z)})("change",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.SameRateForAll())}),t._uU(18," Same For All Type "),t.qZA()(),t.TgZ(19,"div",15)(20,"mat-slide-toggle",18,17),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Is_SameRateForAll_Shift=Z)}),t._uU(22," Same For All Shift "),t.qZA()(),t.TgZ(23,"div",15)(24,"mat-slide-toggle",19,17),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Is_Mixed_Milk_Only=Z)})("change",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.mixedmilk())}),t._uU(26," Mixed Milk Only "),t.qZA()(),t.TgZ(27,"div",15)(28,"mat-slide-toggle",20,17),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Is_Active=Z)}),t._uU(30," Is Active "),t.qZA()(),t.TgZ(31,"div",21)(32,"button",22),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.add())}),t._uU(33,"Create"),t.qZA()(),t.TgZ(34,"div",21)(35,"button",23),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.close())}),t._uU(36,"Back "),t.qZA()()()}if(2&Y){const c=t.oxw(),U=t.MAs(2);t.xp6(5),t.Q6J("ngModel",c.formData.Description),t.xp6(6),t.Q6J("ngModel",c.formData.Rate_structure_id),t.xp6(2),t.Q6J("array",c.listRateStructure)("placeholder","Filter")("displayMember","RateStructureDesc"),t.xp6(1),t.Q6J("ngForOf",c.listRateStructure),t.xp6(2),t.Q6J("ngModel",c.formData.Is_SameRateForAll_MilkType)("checked",c.formData.Is_SameRateForAll_MilkType),t.xp6(4),t.Q6J("ngModel",c.formData.Is_SameRateForAll_Shift)("checked",!0),t.xp6(4),t.Q6J("ngModel",c.formData.Is_Mixed_Milk_Only)("checked",c.formData.Is_Mixed_Milk_Only),t.xp6(4),t.Q6J("ngModel",c.formData.Is_Active)("checked",c.formData.Is_Active),t.xp6(4),t.Q6J("disabled",!U.valid)}}const et=function(){return{standalone:!0}};function $(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"div",27),t._uU(3," Upload Rate "),t.qZA()(),t.TgZ(4,"div",28)(5,"div",2)(6,"div",29)(7,"input",30,31),t.NdJ("change",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.onFileChange(Z))}),t.qZA()(),t.TgZ(9,"div",32)(10,"button",33)(11,"i",34),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.resetExcel())}),t.qZA()()()(),t.TgZ(12,"div",2)(13,"div",35)(14,"mat-form-field")(15,"input",36),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.filterMppName=Z)}),t.qZA()()()()(),t.TgZ(16,"div",37)(17,"div",2)(18,"div",38)(19,"button",39),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.onSaveUploadedMpp())}),t._uU(20,"Save"),t.qZA()(),t.TgZ(21,"div",38)(22,"button",40),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.onCloseExcel())}),t._uU(23,"Close"),t.qZA()()()()()}if(2&Y){const c=t.oxw(),U=t.MAs(2);t.xp6(15),t.Q6J("ngModel",c.filterMppName)("ngModelOptions",t.DdM(3,et)),t.xp6(4),t.Q6J("disabled",!U.valid)}}function K(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.Plant_Id),t.xp6(1),t.hij(" ",c.Plant_Name," ")}}function ht(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.MCC_Id),t.xp6(1),t.hij(" ",c.MCC_Name," ")}}function ft(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.Center_Code),t.xp6(1),t.hij(" ",c.Center_Name," ")}}function at(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.Route_Code),t.xp6(1),t.hij(" ",c.Route_Name," ")}}function ot(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.Society_Code),t.xp6(1),t.hij(" ",c.Society_Name," ")}}function ut(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"div",2)(1,"div",10)(2,"mat-form-field")(3,"mat-select",41,42),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Plant_Id=Z)})("selectionChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.getAllMcc(Z))}),t.TgZ(5,"mat-select-filter",13),t.NdJ("filteredReturn",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.filterPlantList=Z)}),t.qZA(),t.YNc(6,K,2,2,"mat-option",14),t.qZA()()(),t.TgZ(7,"div",10)(8,"mat-form-field")(9,"mat-select",43,44),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.MCC_Id=Z)})("selectionChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.getBmcAll(Z))}),t.TgZ(11,"mat-select-filter",13),t.NdJ("filteredReturn",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.filterMccList=Z)}),t.qZA(),t.YNc(12,ht,2,2,"mat-option",14),t.qZA()()(),t.TgZ(13,"div",10)(14,"mat-form-field")(15,"mat-select",45,46),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Center_Code=Z)})("selectionChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.getAllRoute(Z))}),t.TgZ(17,"mat-select-filter",13),t.NdJ("filteredReturn",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.filterBmcList=Z)}),t.qZA(),t.YNc(18,ft,2,2,"mat-option",14),t.qZA()()(),t.TgZ(19,"div",10)(20,"mat-form-field")(21,"mat-select",47,48),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Route_Code=Z)})("selectionChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.getMppAll(Z))}),t.TgZ(23,"mat-select-filter",13),t.NdJ("filteredReturn",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.filterRouteCodeList=Z)}),t.qZA(),t.YNc(24,at,2,2,"mat-option",14),t.qZA()()(),t.TgZ(25,"div",10)(26,"mat-form-field")(27,"mat-select",49,50),t.NdJ("ngModelChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.formData.Society_Code=Z)})("selectionChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.setMpp(Z))}),t.TgZ(29,"mat-select-filter",13),t.NdJ("filteredReturn",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.filterMppList=Z)}),t.qZA(),t.TgZ(30,"mat-option",24),t._uU(31,"All items"),t.qZA(),t.YNc(32,ot,2,2,"mat-option",14),t.qZA()()(),t.TgZ(33,"div",21)(34,"button",22),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.addMaping())}),t._uU(35,"Map"),t.qZA()(),t.TgZ(36,"div",21)(37,"button",23),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.onMappingBack())}),t._uU(38,"Back "),t.qZA()()()}if(2&Y){const c=t.oxw(),U=t.MAs(2);t.xp6(3),t.Q6J("ngModel",c.formData.Plant_Id),t.xp6(2),t.Q6J("array",c.PlantList)("placeholder","Filter")("displayMember","Plant_Name"),t.xp6(1),t.Q6J("ngForOf",c.filterPlantList),t.xp6(3),t.Q6J("ngModel",c.formData.MCC_Id),t.xp6(2),t.Q6J("array",c.MccList)("placeholder","Filter")("displayMember","MCC_Name"),t.xp6(1),t.Q6J("ngForOf",c.filterMccList),t.xp6(3),t.Q6J("ngModel",c.formData.Center_Code),t.xp6(2),t.Q6J("array",c.BmcList)("placeholder","Filter")("displayMember","Center_Name"),t.xp6(1),t.Q6J("ngForOf",c.filterBmcList),t.xp6(3),t.Q6J("ngModel",c.formData.Route_Code),t.xp6(2),t.Q6J("array",c.RouteCodeList)("placeholder","Filter")("displayMember","Route_Name"),t.xp6(1),t.Q6J("ngForOf",c.filterRouteCodeList),t.xp6(3),t.Q6J("ngModel",c.formData.Society_Code),t.xp6(2),t.Q6J("array",c.MppList)("placeholder","Filter")("displayMember","Society_Name"),t.xp6(1),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",c.filterMppList),t.xp6(2),t.Q6J("disabled",!U.valid)}}function dt(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"div",2)(1,"div",10)(2,"mat-form-field")(3,"mat-select",51),t.NdJ("selectionChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.onFormatSelect(Z))}),t.TgZ(4,"mat-option",52),t._uU(5,"Plain Text"),t.qZA(),t.TgZ(6,"mat-option",53),t._uU(7,"Encrypted"),t.qZA(),t.TgZ(8,"mat-option",54),t._uU(9,"Excel"),t.qZA()()()(),t.TgZ(10,"div",21)(11,"button",22),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.btnExport())}),t._uU(12,"Export"),t.qZA()(),t.TgZ(13,"div",21)(14,"button",23),t.NdJ("click",function(){t.CHM(c);const Z=t.oxw();return t.KtG(Z.onExportBack())}),t._uU(15,"Back "),t.qZA()()()}if(2&Y){t.oxw();const c=t.MAs(2);t.xp6(11),t.Q6J("disabled",!c.valid)}}function _t(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td",60)(18,"mat-icon",61),t.NdJ("click",function(){const j=t.CHM(c).$implicit,ct=t.oxw(2);return t.KtG(ct.onUploadexcel(j))}),t._uU(19,"upload"),t.qZA(),t.TgZ(20,"mat-icon",61),t.NdJ("click",function(){const j=t.CHM(c).$implicit,ct=t.oxw(2);return t.KtG(ct.onMapping(j))}),t._uU(21," import_contacts"),t.qZA(),t.TgZ(22,"mat-icon",62),t.NdJ("click",function(){const j=t.CHM(c).$implicit,ct=t.oxw(2);return t.KtG(ct.Export(j))}),t._uU(23," download "),t.qZA()()()}if(2&Y){const c=k.$implicit;t.xp6(2),t.Oqu(c.Rate_Code),t.xp6(2),t.Oqu(c.Other_Code),t.xp6(2),t.Oqu(c.Description),t.xp6(2),t.Oqu(c.Structure),t.xp6(2),t.Oqu(c.Is_SameRateForAll_MilkType),t.xp6(2),t.Oqu(c.Is_SameRateForAll_Shift),t.xp6(2),t.Oqu(c.Is_Mixed_Milk_Only),t.xp6(2),t.Oqu(c.Is_Active)}}function mt(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"ngb-pagination",63),t.NdJ("pageChange",function(Z){t.CHM(c);const j=t.oxw(2);return t.KtG(j.page=Z)}),t.qZA()}if(2&Y){const c=t.oxw(2);t.Q6J("collectionSize",c.RateDetailList.length)("page",c.page)("pageSize",c.pageSize)}}function e(Y,k){if(1&Y&&(t.TgZ(0,"div",2)(1,"div",35)(2,"div")(3,"div",55)(4,"table",56)(5,"thead")(6,"tr")(7,"th",57),t._uU(8,"Rate Type"),t.qZA(),t.TgZ(9,"th",57),t._uU(10,"Rate Type Ref Id"),t.qZA(),t.TgZ(11,"th",57),t._uU(12,"Rate Type Description "),t.qZA(),t.TgZ(13,"th",57),t._uU(14,"Rate Structure"),t.qZA(),t.TgZ(15,"th",57),t._uU(16,"Same Rate For All Type"),t.qZA(),t.TgZ(17,"th",57),t._uU(18,"Same Rate For All Shift"),t.qZA(),t.TgZ(19,"th",57),t._uU(20,"Mixed Milk Only"),t.qZA(),t.TgZ(21,"th",57),t._uU(22,"Active"),t.qZA(),t.TgZ(23,"th",57),t._uU(24,"Action "),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,_t,24,8,"tr",58),t.ALo(27,"slice"),t.qZA()()(),t.YNc(28,mt,1,3,"ngb-pagination",59),t.qZA()()()),2&Y){const c=t.oxw();t.xp6(26),t.Q6J("ngForOf",t.Dn7(27,2,c.RateDetailList,(c.page-1)*c.pageSize,(c.page-1)*c.pageSize+c.pageSize)),t.xp6(2),t.Q6J("ngIf",c.RateDetailList.length>0)}}class B{constructor(k,c,U,Z,j,ct,vt,xt,Ct,yt,bt,wt){this.data=k,this.dialogRef=c,this.sharedService=U,this.rateservice=Z,this.sessionservice=j,this.plantService=ct,this.mccService=vt,this.BmcService=xt,this.mppService=Ct,this.RouteService=yt,this.elementRef=bt,this.ngZone=wt,this.formData=new n,this.btnTxt="",this.listRateStructure=[],this.ismilk=!1,this.RateDetailList=[],this.pageSize=5,this.page=1,this.isExcel=!1,this.UploadExcelRateListCow=[],this.UploadExcelRateListBuff=[],this.UploadExcelRateListMix=[],this.isMapping=!1,this.Excelkeys=[],this.PlantList=[],this.filterPlantList=[],this.MccList=[],this.filterMccList=[],this.BmcList=[],this.filterBmcList=[],this.RouteCodeList=[],this.filterRouteCodeList=[],this.MppList=[],this.filterMppList=[],this.RouteData=new r.T,this.selectedMpp=[],this.selectedOptions=[],this.isexport=!1,this.selectAll=!1,this.selection=new R.Ov(!0,[]),this.zip=new q}ngOnInit(){new O.Ub(this.elementRef,this.ngZone),this.formData=this.data.formData,this.btnTxt=this.data.btnTxt,this.Load_Rate_Type(),this.getAllPlant(),this.getAllMcc(),this.getBmcAll()}Load_Rate_Type(){this.formData.Action="Load_Rate_Type",this.formData.Company_Code=this.sessionservice.getCurrentUser().value.CompanyCode,this.rateservice.getRateAll(this.formData).subscribe(k=>{k.result.Table1.length>0&&(this.listRateStructure=k.result.Table1),200==k.status&&(console.log(k.result.Table),this.RateDetailList=k.result.Table)})}SameRateForAll(){this.formData.Is_Mixed_Milk_Only=!1,this.formData.Is_SameRateForAll_MilkType=!0}mixedmilk(){this.formData.Is_SameRateForAll_MilkType=!1,this.formData.Is_Mixed_Milk_Only=!0}add(){this.formData.Action="Create_Rate_Type",this.formData.Company_Code=this.sessionservice.getCurrentUser().value.companyCode,this.formData.User_Id=this.sessionservice.getCurrentUser().value.UserId,this.rateservice.getRateAll(this.formData).subscribe(k=>{200==k.status?(this.sharedService.openSnackBar(k.result.Table[0].message),this.reset(),this.Load_Rate_Type()):this.sharedService.openSnackBar(k.result.Table[0].message)})}close(){this.dialogRef.close()}onEditUser(k){}reset(){this.formData.Description="",this.formData.Is_SameRateForAll_MilkType=!1,this.formData.Is_Mixed_Milk_Only=!1}onUploadexcel(k){this.isExcel=!0,this.isMapping=!1,this.mappingdetails(k)}onMappingBack(k){this.isExcel=!1,this.isMapping=!1,console.log("data-mapping",k)}onCloseExcel(){this.isExcel=!1}onFileChange(k){this.ExcelMppList=[],this.Excelkeys=[];const c=k.target;if(1!==c.files.length)throw new Error("Cannot use multiple files");const U=new FileReader;U.onload=Z=>{const ct=P.ij(Z.target.result,{type:"binary"});var vt="";ct.SheetNames.forEach((xt,Ct)=>{if(""!=(vt=0==Ct?"C":1==Ct?"B":2==Ct?"M":"")){const bt=ct.Sheets[ct.SheetNames[0]];this.formData.Type=vt,this.ExcelMppList=P.P6.sheet_to_json(bt,{header:0}),this.UploadExcel(this.ExcelMppList)}})},U.readAsBinaryString(c.files[0])}UploadExcel(k){var c=0;for(let Z=0;Z<k.length;Z++){const j=k[Z];for(let ct in j)c=j[0],"0"!=ct&&("C"==this.formData.Type?this.UploadExcelRateListCow.push({Fat:c,SNF:ct,Rate:j[ct]}):"B"==this.formData.Type?this.UploadExcelRateListBuff.push({Fat:c,Snf:parseFloat(ct),Rate:j[ct]}):"M"==this.formData.Type&&this.UploadExcelRateListMix.push({Fat:c,Snf:parseFloat(ct),Rate:j[ct]}))}}onSaveUploadedMpp(){this.SaveRateDetails(this.UploadExcelRateListCow,"C"),this.SaveRateDetails(this.UploadExcelRateListBuff,"B"),this.SaveRateDetails(this.UploadExcelRateListMix,"M")}SaveRateDetails(k,c){this.formData.Action="Add_Rate_Details",this.formData.Company_Code=this.sessionservice.currentUser.value.companyCode,this.formData.User_Id=this.sessionservice.currentUser.value.UserId,this.formData.Rate_BO_SP=k,this.formData.Type=c,this.rateservice.getRateAll(this.formData).subscribe(U=>{200==U.status?(this.sharedService.openSnackBar(U.result.Table[0].message+"-"+c),this.formData.Rate_BO_SP=[],this.formData.Type=""):this.sharedService.openSnackBar(U.result.Table[0].message)})}onMapping(k){this.isMapping=!0,this.isexport=!1,this.mappingdetails(k)}getAllPlant(){this.PlantList=[],this.filterPlantList=[],this.MccList=[],this.filterMccList=[],this.BmcList=[],this.filterBmcList=[],this.RouteCodeList=[],this.filterRouteCodeList=[],this.MppList=[],this.filterMppList=[];var k=this.sessionservice.getCurrentUser().value.CompanyCode;this.plantService.getplantAll({Action:"Get_Data_Onload",Company_Code:k}).subscribe(U=>{200==U.status&&(console.log("plant",U.result.Table),this.PlantList=U.result.Table,this.filterPlantList=this.PlantList.slice())})}getAllMcc(){console.log("plant id ",this.formData.Plant_Id),console.log("mcc id ",this.formData.MCC_Id),this.MccList=[],this.filterMccList=[],this.BmcList=[],this.RouteCodeList=[],this.filterRouteCodeList=[],this.filterBmcList=[],this.MppList=[],this.filterMppList=[];var k=this.sessionservice.getCurrentUser().value.CompanyCode;this.mccService.getMccAll({Company_Code:k,Action:"Get_Data_Onload"}).subscribe(U=>{200==U.status&&U.result.Table1.length>0?(this.MccList=U.result.Table1,this.filterMccList=this.MccList):this.sharedService.openSnackBar("No Data found")})}getBmcAll(){this.BmcList=[],this.filterBmcList=[],this.MppList=[],this.filterMppList=[];var k=this.sessionservice.getCurrentUser().value.CompanyCode;this.BmcService.getBmcAll({Comapny_Code:k,Action:"Get_All_Center"}).subscribe(U=>{200==U.status&&U.result.Table1.length>0?(this.BmcList=U.result.Table,this.filterBmcList=this.BmcList):this.sharedService.openSnackBar("No Data found")})}getAllRoute(){this.RouteCodeList=[],this.filterRouteCodeList=[],this.MppList=[],this.filterMppList=[],this.RouteData.Center_Code=this.formData.Center_Code.toString(),this.RouteData.Company_Code=this.sessionservice.getCurrentUser().value.CompanyCode,this.RouteData.Action="Get_All_Route",this.RouteService.getAllRoute(this.RouteData).subscribe(k=>{console.log("Get_All_Route",k),200==k.status&&(this.RouteCodeList=k.result.Table,this.filterRouteCodeList=this.RouteCodeList.slice())})}getMppAll(k){this.RouteCodeIds=k.value,console.log("route codes",this.RouteCodeIds),this.MppList=[],this.filterMppList=[],this.formData.Action="Load_Dropdowns_for_Mapping",this.sessionservice.getCurrentUser(),this.rateservice.getRateAll(this.formData).subscribe(U=>{200==U.status?(this.MppList=U.result.Table4.filter(j=>this.RouteCodeIds.some(ct=>j.Route_Code==ct)),console.log("MppList",this.MppList),this.filterMppList=this.MppList.slice()):(this.MppList=[],this.filterMppList=[],this.sharedService.openSnackBar("No Data found"))})}getMpp(k){console.log("check",k),console.log("check",this.MppList),this.filterMppList=this.MppList.filter(c=>{}),console.log("filter mpp",this.filterMppList)}setMpp(k){this.selectedMpp=k.value,console.log("this.formData.Society_Code",this.selectedMpp.join(","))}addMaping(){this.formData.Company_Code=this.sessionservice.getCurrentUser().value.CompanyCode,console.log("Mapping",this.formData.Company_Code),this.formData.User_Id=this.sessionservice.getCurrentUser().value.UserId,this.formData.Action="Society_Rate_Mapping",this.formData.Society_Code=this.selectedMpp.join(","),this.rateservice.getRateAll(this.formData).subscribe(k=>{this.sharedService.openSnackBar(k.result.Table[0].message)})}mappingdetails(k){this.setformdatafromtable(k)}onExportBack(){this.isexport=!1}btnExport(){var k;this.formData.Company_Code=this.sessionservice.getCurrentUser().value.companyCode,this.formData.User_Id=this.sessionservice.getCurrentUser().value.UserId,this.formData.Action="Export_ratechart",k="x"==this.formData.fileformat?".csv":".txt",this.rateservice.ExportRateAll(this.formData).subscribe(c=>{200==c.status&&(console.log(c.result.Table1[0].B),this.createZipfile(c.result.Table1[0].B,"E_Ratechart_R2"+k),this.createZipfile(c.result.Table1[0].C,"E_Ratechart_R3"+k),null!=c.result.Table1[0].X&&this.createZipfile(c.result.Table1[0].X,"E_Ratechart_R3"+k),this.downloadtextfile(),this.sharedService.openSnackBar(c.result.Table1))})}createZipfile(k,c){const U=new Blob([k],{type:"text/csv"});this.zip.file(c,U)}downloadtextfile(){this.zip.generateAsync({type:"blob"}).then(k=>{const c=window.URL.createObjectURL(k),U=document.createElement("a");U.href=c,U.download="RateFiles.zip",U.click()})}downloadunzipfile(k,c){const U=new Blob([k],{type:"text/csv"});var Z=URL.createObjectURL(U),j=document.createElement("a");j.href=Z,j.download=c,document.body.appendChild(j),j.click()}Export(k){this.isexport=!0,this.isMapping=!1,this.isExcel=!1,this.formData.Rate_Code=k.Rate_Code,this.formData.Rate_Type=k.Rate_Type}onFormatSelect(k){this.formData.fileformat=k.value}setformdatafromtable(k){this.formData.Rate_structure_id=k.RateStructureId,this.formData.Other_Code=k.Other_Code,this.formData.Rate_Code=k.Rate_Code,this.formData.Rate_Type=k.Rate_Type,this.formData.Is_Active="Yes"==k.Is_Active?1:0,this.formData.Is_SameRateForAll_MilkType="Yes"==k.Is_SameRateForAll_MilkType,this.formData.Is_SameRateForAll_Shift="Yes"==k.Is_SameRateForAll_Shift,this.formData.Is_Mixed_Milk_Only="Yes"==k.Is_Mixed_Milk_Only,this.formData.Shift="Morninig"==this.formData.Shift?"M":"E"}}B.\u0275fac=function(k){return new(k||B)(t.Y36(p.WI),t.Y36(p.so),t.Y36(a.F),t.Y36(_),t.Y36(v.m),t.Y36(y.L),t.Y36(s.K),t.Y36(d.o),t.Y36(m.v),t.Y36(S.M),t.Y36(t.SBq),t.Y36(t.R0b))},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-create-rate"]],viewQuery:function(k,c){if(1&k&&(t.Gf(G,5),t.Gf(it,5)),2&k){let U;t.iGM(U=t.CRH())&&(c.mySelectionList=U.first),t.iGM(U=t.CRH())&&(c.inputName=U.first)}},decls:17,vars:7,consts:[[1,"container"],["f","ngForm"],[1,"row"],[1,"col-sm-6"],[1,"col-sm-6","text-right"],["class","row",4,"ngIf"],["class","card",4,"ngIf"],[1,"col-md-3"],["name","Description","matInput","","placeholder","Description","required","",3,"ngModel","ngModelChange"],["Description","ngModel"],[1,"col-md-4"],["name","Rate_structure_id","placeholder","Rate Structure","required","",3,"ngModel","ngModelChange"],["Rate_structure_id","ngModel"],[3,"array","placeholder","displayMember","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","pt-3"],["name","Is_SameRateForAll_MilkType","color","primary",1,"example-margin",3,"ngModel","checked","ngModelChange","change"],["Is_Active","ngModel"],["name","formData.Is_SameRateForAll_Shift","color","primary",1,"example-margin",3,"ngModel","checked","ngModelChange"],["name","Is_Mixed_Milk_Only","color","primary",1,"example-margin",3,"ngModel","checked","ngModelChange","change"],["name","Is_Active","color","primary",1,"example-margin",3,"ngModel","checked","ngModelChange"],[1,"col","col-md-","pt-3"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"btn","btn-primary","btn-sm",3,"click"],[3,"value"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"col","col-md-6"],["id","excelUpload","type","file","required","",1,"form-control","form-control-sm",3,"change"],["excelUpload",""],[1,"col","col-md-6","text-right"],[1,"btn","btn-primary"],["aria-hidden","true",1,"fa","fa-refresh",3,"click"],[1,"col","col-md-12"],["matInput","","placeholder","Filter",3,"ngModel","ngModelOptions","ngModelChange"],[1,"card-footer"],[1,"col","col-md-3"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-primary",3,"click"],["multiple","","name","Plant_Id","placeholder","Plant",3,"ngModel","ngModelChange","selectionChange"],["Plant_Id","ngModel"],["multiple","","name","MCC_Id","placeholder","MCC","required","",3,"ngModel","ngModelChange","selectionChange"],["MCC_Id","ngModel"],["multiple","","name","Center_Code","placeholder","BMC","required","",3,"ngModel","ngModelChange","selectionChange"],["Center_Code","ngModel"],["multiple","","name","Route_Code","placeholder","Route","required","",3,"ngModel","ngModelChange","selectionChange"],["Route_Code","ngModel"],["multiple","","name","Society_Code","placeholder","Mpp","required","",3,"ngModel","ngModelChange","selectionChange"],["Society_Code","ngModel"],["placeholder","Select Format","required","",3,"selectionChange"],["value","p"],["value","e"],["value","x"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","row-table","hover","table-lg",2,"width","100%"],[2,"text-transform","capitalize"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center",3,"collectionSize","page","pageSize","pageChange",4,"ngIf"],["colspan","4"],[2,"color","blue",3,"click"],[2,"color","rgb(0, 64, 255)",3,"click"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","pageChange"]],template:function(k,c){1&k&&(t.TgZ(0,"div",0)(1,"form",null,1)(3,"mat-card")(4,"div",2)(5,"div",3)(6,"mat-card-header")(7,"mat-card-title"),t._uU(8,"Create Rate "),t.qZA()()(),t.TgZ(9,"div",4),t._uU(10),t.qZA()(),t.YNc(11,T,37,15,"div",5),t.YNc(12,$,24,4,"div",6),t.YNc(13,ut,39,27,"div",5),t.YNc(14,dt,16,1,"div",5),t.qZA(),t.TgZ(15,"mat-card"),t.YNc(16,e,29,6,"div",5),t.qZA()()()),2&k&&(t.xp6(10),t.AsE(" Rate Code-",c.formData.Rate_Code," Rate Code-",c.formData.Other_Code," "),t.xp6(1),t.Q6J("ngIf",!c.isExcel&&!c.isMapping&&!c.isexport),t.xp6(1),t.Q6J("ngIf",c.isExcel&&!c.isMapping),t.xp6(1),t.Q6J("ngIf",c.isMapping),t.xp6(1),t.Q6J("ngIf",c.isexport),t.xp6(2),t.Q6J("ngIf",!c.isMapping))},dependencies:[w.sg,w.O5,E.CK,H.S$,H.u7,H.mi,V.v_,V.pH,V.$V,g.Hw,z.k0,i.x8,F.iZ,rt.Fq,N._Y,N.Fj,N.JJ,N.JL,N.Q7,N.On,N.F,nt.N9,w.OU]});var M=I(9602);class u{constructor(k,c,U,Z,j){this.data=k,this.dialogRef=c,this.RateDetailService=U,this.sharedService=Z,this.sessionservice=j,this.formData=new n,this.btnTxt="Add"}ngOnInit(){this.formData=this.data.formData,this.btnTxt=this.data.btnTxt}AddRate(){this.formData.Company_Code=this.sessionservice.getCurrentUser().value.CompanyCode,this.formData.Action="Create_Rate_Code",this.RateDetailService.getRateAll(this.formData).subscribe(k=>{200==k.status&&(this.sharedService.openSnackBar(k.result.Table[0].message),this.dialogRef.close())})}}function o(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"mat-icon",15),t.NdJ("click",function(){const j=t.CHM(c).$implicit,ct=t.oxw();return t.KtG(ct.onEditUser(j))}),t._uU(17,"edit"),t.qZA(),t.TgZ(18,"mat-icon",16),t._uU(19,"delete"),t.qZA()()()}if(2&Y){const c=k.$implicit,U=k.index,Z=t.oxw();t.xp6(2),t.Oqu(Z.pageSize*(Z.page-1)+U+1),t.xp6(2),t.Oqu(c.Rate_Code),t.xp6(2),t.Oqu(c.Effective_Date),t.xp6(2),t.Oqu(c.Shift),t.xp6(2),t.Oqu(c.Description),t.xp6(2),t.Oqu(c.buffCommission),t.xp6(2),t.Oqu(c.cowCommission)}}function x(Y,k){if(1&Y){const c=t.EpF();t.TgZ(0,"ngb-pagination",17),t.NdJ("pageChange",function(Z){t.CHM(c);const j=t.oxw();return t.KtG(j.page=Z)}),t.qZA()}if(2&Y){const c=t.oxw();t.Q6J("collectionSize",c.RateDetailList.length)("page",c.page)("pageSize",c.pageSize)}}u.\u0275fac=function(k){return new(k||u)(t.Y36(p.WI),t.Y36(p.so),t.Y36(_),t.Y36(a.F),t.Y36(v.m))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-rate-import-popup"]],decls:50,vars:8,consts:[[1,"container"],[1,"row"],[1,"col","col-md-4"],["name","Effective_Date","matInput","","placeholder","Effective Date",3,"max","ngModel","matDatepicker","ngModelChange"],["Effective_Date","ngModel"],["matSuffix","",3,"for"],["Effective",""],[1,"col-md-4"],["name","Shift","placeholder","Effective Shift",3,"ngModel","ngModelChange"],["Shift","ngModel"],["value","0"],["value","M"],["value","E"],["name","Description","matInput","","placeholder","Description",3,"ngModel","ngModelChange"],["Description","ngModel"],["name","buffCommission","matInput","","placeholder","Buff",3,"ngModel","ngModelChange"],["buffCommission","ngModel"],["name","cowCommission","matInput","","placeholder","Cow",3,"ngModel","ngModelChange"],["cowCommission","ngModel"],[1,"col","col-md-4","pt-3"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(k,c){if(1&k&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Add Rate"),t.qZA()(),t.TgZ(5,"div",1)(6,"div",2)(7,"mat-form-field")(8,"input",3,4),t.NdJ("ngModelChange",function(Z){return c.formData.Effective_Date=Z}),t.qZA(),t._UZ(10,"mat-datepicker-toggle",5)(11,"mat-datepicker",null,6),t.qZA()(),t.TgZ(13,"div",7)(14,"mat-form-field")(15,"mat-select",8,9),t.NdJ("ngModelChange",function(Z){return c.formData.Shift=Z}),t.TgZ(17,"mat-option",10),t._uU(18,"Select"),t.qZA(),t.TgZ(19,"mat-option",11),t._uU(20," M"),t.qZA(),t.TgZ(21,"mat-option",12),t._uU(22,"E"),t.qZA()()()(),t.TgZ(23,"div",7)(24,"mat-form-field")(25,"mat-label"),t._uU(26,"Description"),t.qZA(),t.TgZ(27,"input",13,14),t.NdJ("ngModelChange",function(Z){return c.formData.Description=Z}),t.qZA(),t.TgZ(29,"mat-hint"),t._uU(30,"Hint"),t.qZA()()(),t.TgZ(31,"div",7)(32,"mat-form-field")(33,"mat-label"),t._uU(34,"Buff Commission"),t.qZA(),t.TgZ(35,"input",15,16),t.NdJ("ngModelChange",function(Z){return c.formData.buffCommission=Z}),t.qZA(),t.TgZ(37,"mat-hint"),t._uU(38,"Hint"),t.qZA()()(),t.TgZ(39,"div",7)(40,"mat-form-field")(41,"mat-label"),t._uU(42,"Cow Commission"),t.qZA(),t.TgZ(43,"input",17,18),t.NdJ("ngModelChange",function(Z){return c.formData.cowCommission=Z}),t.qZA(),t.TgZ(45,"mat-hint"),t._uU(46,"Hint"),t.qZA()()(),t.TgZ(47,"div",19)(48,"button",20),t.NdJ("click",function(){return c.AddRate()}),t._uU(49,"Add Rate "),t.qZA()()()()()),2&k){const U=t.MAs(12);t.xp6(8),t.Q6J("max",c.formData.Effective_Date)("ngModel",c.formData.Effective_Date)("matDatepicker",U),t.xp6(2),t.Q6J("for",U),t.xp6(5),t.Q6J("ngModel",c.formData.Shift),t.xp6(12),t.Q6J("ngModel",c.formData.Description),t.xp6(8),t.Q6J("ngModel",c.formData.buffCommission),t.xp6(8),t.Q6J("ngModel",c.formData.cowCommission)}},dependencies:[E.CK,H.S$,H.u7,H.mi,M.Mq,M.hl,M.nW,V.v_,V.pH,V.$V,V.nX,z.k0,i.x8,N.Fj,N.JJ,N.On]});class L{constructor(k,c,U,Z){this.ratedetailservice=k,this.sharedservice=c,this.sessionservice=U,this.dialog=Z,this.RateDetailList=[],this.formData=new n,this.pageSize=5,this.page=1,this.btnTxt="Save"}ngOnInit(){this.getratedetailsl()}getratedetailsl(){this.formData.Company_Code=this.sessionservice.getCurrentUser().value.CompanyCode,this.formData.Action="Load_Grid_Data",this.ratedetailservice.getRateAll(this.formData).subscribe(k=>{200==k.status?(this.RateDetailList=k.result.Table,console.log(this.RateDetailList)):this.sharedservice.openSnackBar(k.result.Table[0].message)})}onEditUser(k){this.dialog.open(B,{width:"80%",data:{formData:k,btnTxt:this.btnTxt}}).afterClosed().subscribe(c=>{console.log("plant data after pop cloce"),this.getratedetailsl(),this.reset()})}openDialog(){this.dialog.open(u,{data:{formData:this.formData,btnTxt:this.btnTxt}}).afterClosed().subscribe(k=>{console.log("plant data after pop cloce"),this.getratedetailsl(),this.reset()})}reset(){}}L.\u0275fac=function(k){return new(k||L)(t.Y36(_),t.Y36(a.F),t.Y36(v.m),t.Y36(p.uw))},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-rate-import"]],decls:40,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col","col-md-6"],["matInput",""],["matInput","","placeholder","Filter"],[1,"col","col-md-6","text-right","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"col","col-md-12"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","row-table","hover","table-lg",2,"width","100%"],[2,"text-transform","capitalize"],[1,"text-center",2,"text-transform","capitalize"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center",3,"collectionSize","page","pageSize","pageChange",4,"ngIf"],[2,"color","navy",3,"click"],[2,"color","red"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","pageChange"]],template:function(k,c){1&k&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t._uU(5,"Add Rate"),t.qZA(),t.TgZ(6,"mat-form-field"),t._UZ(7,"input",4)(8,"input",5),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return c.openDialog()}),t.TgZ(11,"mat-icon"),t._uU(12,"add"),t.qZA()()()(),t.TgZ(13,"div",2)(14,"div",8)(15,"div")(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),t._uU(21,"SNo."),t.qZA(),t.TgZ(22,"th",11),t._uU(23,"Rate Code"),t.qZA(),t.TgZ(24,"th",11),t._uU(25,"Effective Date"),t.qZA(),t.TgZ(26,"th",11),t._uU(27,"Effective Shift "),t.qZA(),t.TgZ(28,"th",11),t._uU(29,"Description"),t.qZA(),t.TgZ(30,"th",11),t._uU(31,"Buffalo"),t.qZA(),t.TgZ(32,"th",11),t._uU(33,"Cow"),t.qZA(),t.TgZ(34,"th",12),t._uU(35,"Action"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,o,20,7,"tr",13),t.ALo(38,"slice"),t.qZA()()(),t.YNc(39,x,1,3,"ngb-pagination",14),t.qZA()()()()()),2&k&&(t.xp6(37),t.Q6J("ngForOf",t.Dn7(38,2,c.RateDetailList,(c.page-1)*c.pageSize,(c.page-1)*c.pageSize+c.pageSize)),t.xp6(2),t.Q6J("ngIf",c.RateDetailList.length>0))},dependencies:[w.sg,w.O5,V.v_,g.Hw,z.k0,nt.N9,w.OU]});class J{constructor(){this.Action="",this.Company_Code=0,this.User_Id=0,this.DateFrom=new Date,this.DateTo=new Date,this.FromShift="",this.ToShift="",this.Cal_Type=""}}class A{constructor(k){this.http=k,this.API_Url=h.N.API_Url}Raterecalculate(k){return this.http.post(this.API_Url+"RateReCalculate/All",k)}}function W(Y,k){if(1&Y&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&Y){const c=k.$implicit;t.Q6J("value",c.Center_Code),t.xp6(1),t.hij(" ",c.Center_Name," ")}}A.\u0275fac=function(k){return new(k||A)(t.LFG(C.eN))},A.\u0275prov=t.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"});class X{constructor(k,c,U,Z,j){this.rateservice=k,this.SessionService=c,this.SharedService=U,this.dialog=Z,this.bmcservice=j,this.formData=new J,this.bmclist=[],this.filterbmclist=[],this.pageSize=5,this.page=1,this.max=new Date}ngOnInit(){this.getBmcAll()}getBmcAll(){var k=this.SessionService.getCurrentUser().value.CompanyCode;this.bmcservice.getBmcAll({Comapny_Code:k,Action:"Get_All_Center"}).subscribe(U=>{200==U.status&&U.result.Table1.length>0?(console.log("bmc liist",U.result),this.bmclist=U.result.Table,this.filterbmclist=this.bmclist.slice()):this.SharedService.openSnackBar("No Data found")})}Recalculate(){this.formData.Action="Rate_Re_Calculation",this.formData.Cal_Type="Member Collection",this.formData.Company_Code=this.SessionService.getCurrentUser().value.CompanyCode,this.rateservice.Raterecalculate(this.formData).subscribe(k=>{console.log(k.result.Table[0]),this.SharedService.openSnackBar(k.result.Table[0].message)})}}X.\u0275fac=function(k){return new(k||X)(t.Y36(A),t.Y36(v.m),t.Y36(a.F),t.Y36(p.uw),t.Y36(d.o))},X.\u0275cmp=t.Xpm({type:X,selectors:[["app-rate-recalculation"]],decls:45,vars:20,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col","col-md-2"],["name","DateFrom","matInput","","placeholder","From Date",3,"max","ngModel","matDatepicker","ngModelChange"],["DateFrom","ngModel"],["matSuffix","",3,"for"],["Fromdate",""],[1,"col-md-2"],["name","FromShift","placeholder","From Shift",3,"ngModel","ngModelChange"],["FromShift","ngModel"],[3,"value"],["name","DateTo","matInput","","placeholder","To Date",3,"ngModel","max","matDatepicker","ngModelChange"],["DateTo","ngModel"],["todate",""],["name","ToShift","placeholder","To Shift",3,"ngModel","ngModelChange"],["ToShift","ngModel"],["placeholder","Bmc"],[3,"array","placeholder","displayMember","filteredReturn"],[3,"value",4,"ngFor","ngForOf"],[1,"col","col-md-2","pt-3"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(k,c){if(1&k&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field")(5,"input",4,5),t.NdJ("ngModelChange",function(Z){return c.formData.DateFrom=Z}),t.qZA(),t._UZ(7,"mat-datepicker-toggle",6)(8,"mat-datepicker",null,7),t.qZA()(),t.TgZ(10,"div",8)(11,"mat-form-field")(12,"mat-select",9,10),t.NdJ("ngModelChange",function(Z){return c.formData.FromShift=Z}),t.TgZ(14,"mat-option",11),t._uU(15,"Select"),t.qZA(),t.TgZ(16,"mat-option",11),t._uU(17," M"),t.qZA(),t.TgZ(18,"mat-option",11),t._uU(19,"E"),t.qZA()()()(),t.TgZ(20,"div",3)(21,"mat-form-field")(22,"input",12,13),t.NdJ("ngModelChange",function(Z){return c.formData.DateTo=Z}),t.qZA(),t._UZ(24,"mat-datepicker-toggle",6)(25,"mat-datepicker",null,14),t.qZA()(),t.TgZ(27,"div",8)(28,"mat-form-field")(29,"mat-select",15,16),t.NdJ("ngModelChange",function(Z){return c.formData.ToShift=Z}),t.TgZ(31,"mat-option",11),t._uU(32,"Select"),t.qZA(),t.TgZ(33,"mat-option",11),t._uU(34," M"),t.qZA(),t.TgZ(35,"mat-option",11),t._uU(36,"E"),t.qZA()()()(),t.TgZ(37,"div",8)(38,"mat-form-field")(39,"mat-select",17)(40,"mat-select-filter",18),t.NdJ("filteredReturn",function(Z){return c.filterbmclist=Z}),t.qZA(),t.YNc(41,W,2,2,"mat-option",19),t.qZA()()(),t.TgZ(42,"div",20)(43,"button",21),t.NdJ("click",function(){return c.Recalculate()}),t._uU(44,"Recalculate"),t.qZA()()()()()),2&k){const U=t.MAs(9),Z=t.MAs(26);t.xp6(5),t.Q6J("max",c.formData.DateTo)("ngModel",c.formData.DateFrom)("matDatepicker",U),t.xp6(2),t.Q6J("for",U),t.xp6(5),t.Q6J("ngModel",c.formData.FromShift),t.xp6(2),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(4),t.Q6J("ngModel",c.formData.DateTo)("max",c.max)("matDatepicker",Z),t.xp6(2),t.Q6J("for",Z),t.xp6(5),t.Q6J("ngModel",c.formData.ToShift),t.xp6(2),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(5),t.Q6J("array",c.bmclist)("placeholder","Filter")("displayMember","Center_Name"),t.xp6(1),t.Q6J("ngForOf",c.filterbmclist)}},dependencies:[w.sg,E.CK,M.Mq,M.hl,M.nW,V.v_,V.nX,z.k0,i.x8,rt.Fq,N.Fj,N.JJ,N.On]});const Q=[{path:"",children:[{path:"Rate-Recalculation",component:X,data:{title:"Rate-Recalculation",urls:[{title:"Rate-Recalculation",url:"/Rate-Recalculation"},{title:"New Rate-Recalculation"}]}},{path:"Rate-Import",component:L,data:{title:"Rate-Import",urls:[{title:"Rate-Import",url:"/Rate-Import"},{title:"New Rate-Import"}]}}],canActivate:[l.g]}];class tt{}tt.\u0275fac=function(k){return new(k||tt)},tt.\u0275mod=t.oAB({type:tt}),tt.\u0275inj=t.cJS({imports:[f.Bz.forChild(Q),f.Bz]});var lt=I(5415),st=I(3631),pt=I(4466);class gt{}gt.\u0275fac=function(k){return new(k||gt)},gt.\u0275mod=t.oAB({type:gt}),gt.\u0275inj=t.cJS({imports:[w.ez,tt,st.m,f.Bz,pt.m,N.u5,nt.IJ,N.UX,N.UX,lt.T,M.FA]})},5650:kt=>{kt.exports=function b(I,w,f){function l(t,C){if(!w[t]){if(!I[t]){if(n)return n(t,!0);var v=new Error("Cannot find module '"+t+"'");throw v.code="MODULE_NOT_FOUND",v}var a=w[t]={exports:{}};I[t][0].call(a.exports,function(p){return l(I[t][1][p]||p)},a,a.exports,b,I,w,f)}return w[t].exports}for(var n=void 0,h=0;h<f.length;h++)l(f[h]);return l}({1:[function(b,I,w){"use strict";var f=b("./utils"),l=b("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(h){for(var t,C,_,a,p,r,d=[],s=0,m=h.length,y=m,S="string"!==f.getTypeOf(h);s<h.length;)y=m-s,_=S?(t=h[s++],C=s<m?h[s++]:0,s<m?h[s++]:0):(t=h.charCodeAt(s++),C=s<m?h.charCodeAt(s++):0,s<m?h.charCodeAt(s++):0),a=(3&t)<<4|C>>4,p=1<y?(15&C)<<2|_>>6:64,r=2<y?63&_:64,d.push(n.charAt(t>>2)+n.charAt(a)+n.charAt(p)+n.charAt(r));return d.join("")},w.decode=function(h){var t,C,_,v,a,p,r=0,d=0,s="data:";if(h.substr(0,s.length)===s)throw new Error("Invalid base64 input, it looks like a data url.");var m,y=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===n.charAt(64)&&y--,h.charAt(h.length-2)===n.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=l.uint8array?new Uint8Array(0|y):new Array(0|y);r<h.length;)t=n.indexOf(h.charAt(r++))<<2|(v=n.indexOf(h.charAt(r++)))>>4,C=(15&v)<<4|(a=n.indexOf(h.charAt(r++)))>>2,_=(3&a)<<6|(p=n.indexOf(h.charAt(r++))),m[d++]=t,64!==a&&(m[d++]=C),64!==p&&(m[d++]=_);return m}},{"./support":30,"./utils":32}],2:[function(b,I,w){"use strict";var f=b("./external"),l=b("./stream/DataWorker"),n=b("./stream/Crc32Probe"),h=b("./stream/DataLengthProbe");function t(C,_,v,a,p){this.compressedSize=C,this.uncompressedSize=_,this.crc32=v,this.compression=a,this.compressedContent=p}t.prototype={getContentWorker:function(){var C=new l(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),_=this;return C.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),C},getCompressedWorker:function(){return new l(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},t.createWorkerFrom=function(C,_,v){return C.pipe(new n).pipe(new h("uncompressedSize")).pipe(_.compressWorker(v)).pipe(new h("compressedSize")).withStreamInfo("compression",_)},I.exports=t},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,I,w){"use strict";var f=b("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},w.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,I,w){"use strict";var f=b("./utils"),l=function(){for(var n,h=[],t=0;t<256;t++){n=t;for(var C=0;C<8;C++)n=1&n?3988292384^n>>>1:n>>>1;h[t]=n}return h}();I.exports=function(n,h){return void 0!==n&&n.length?"string"!==f.getTypeOf(n)?function(t,C,_,v){var a=l,p=0+_;t^=-1;for(var r=0;r<p;r++)t=t>>>8^a[255&(t^C[r])];return-1^t}(0|h,n,n.length):function(t,C,_,v){var a=l,p=0+_;t^=-1;for(var r=0;r<p;r++)t=t>>>8^a[255&(t^C.charCodeAt(r))];return-1^t}(0|h,n,n.length):0}},{"./utils":32}],5:[function(b,I,w){"use strict";w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(b,I,w){"use strict";var f;f=typeof Promise<"u"?Promise:b("lie"),I.exports={Promise:f}},{lie:37}],7:[function(b,I,w){"use strict";var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=b("pako"),n=b("./utils"),h=b("./stream/GenericWorker"),t=f?"uint8array":"array";function C(_,v){h.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=v,this.meta={}}w.magic="\b\0",n.inherits(C,h),C.prototype.processChunk=function(_){this.meta=_.meta,null===this._pako&&this._createPako(),this._pako.push(n.transformTo(t,_.data),!1)},C.prototype.flush=function(){h.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},C.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},C.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(v){_.push({data:v,meta:_.meta})}},w.compressWorker=function(_){return new C("Deflate",_)},w.uncompressWorker=function(){return new C("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(b,I,w){"use strict";function f(a,p){var r,d="";for(r=0;r<p;r++)d+=String.fromCharCode(255&a),a>>>=8;return d}function l(a,p,r,d,s,m){var y,S,R=a.file,P=a.compression,O=m!==t.utf8encode,q=n.transformTo("string",m(R.name)),E=n.transformTo("string",t.utf8encode(R.name)),H=R.comment,V=n.transformTo("string",m(H)),g=n.transformTo("string",t.utf8encode(H)),z=E.length!==R.name.length,i=g.length!==H.length,F="",rt="",N="",nt=R.dir,G=R.date,it={crc32:0,compressedSize:0,uncompressedSize:0};p&&!r||(it.crc32=a.crc32,it.compressedSize=a.compressedSize,it.uncompressedSize=a.uncompressedSize);var D=0;p&&(D|=8),O||!z&&!i||(D|=2048);var K,ft,T=0,et=0;nt&&(T|=16),"UNIX"===s?(et=798,T|=(ft=K=R.unixPermissions,K||(ft=nt?16893:33204),(65535&ft)<<16)):(et=20,T|=function(K){return 63&(K||0)}(R.dosPermissions)),y=G.getUTCHours(),y<<=6,y|=G.getUTCMinutes(),y<<=5,y|=G.getUTCSeconds()/2,S=G.getUTCFullYear()-1980,S<<=4,S|=G.getUTCMonth()+1,S<<=5,S|=G.getUTCDate(),z&&(rt=f(1,1)+f(C(q),4)+E,F+="up"+f(rt.length,2)+rt),i&&(N=f(1,1)+f(C(V),4)+g,F+="uc"+f(N.length,2)+N);var $="";return $+="\n\0",$+=f(D,2),$+=P.magic,$+=f(y,2),$+=f(S,2),$+=f(it.crc32,4),$+=f(it.compressedSize,4),$+=f(it.uncompressedSize,4),$+=f(q.length,2),$+=f(F.length,2),{fileRecord:_.LOCAL_FILE_HEADER+$+q+F,dirRecord:_.CENTRAL_FILE_HEADER+f(et,2)+$+f(V.length,2)+"\0\0\0\0"+f(T,4)+f(d,4)+q+F+V}}var n=b("../utils"),h=b("../stream/GenericWorker"),t=b("../utf8"),C=b("../crc32"),_=b("../signature");function v(a,p,r,d){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=r,this.encodeFileName=d,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(v,h),v.prototype.push=function(a){var p=a.meta.percent||0,r=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,h.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:r?(p+100*(r-d-1))/r:100}}))},v.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var p=this.streamFiles&&!a.file.dir;if(p){var r=l(a,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(a){this.accumulate=!1;var d,p=this.streamFiles&&!a.file.dir,r=l(a,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),p)this.push({data:(d=a,_.DATA_DESCRIPTOR+f(d.crc32,4)+f(d.compressedSize,4)+f(d.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var a=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var s,m,y,P,d=(s=this.dirRecords.length,m=this.bytesWritten-a,y=a,P=n.transformTo("string",(0,this.encodeFileName)(this.zipComment)),_.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(s,2)+f(s,2)+f(m,4)+f(y,4)+f(P.length,2)+P);this.push({data:d,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(a){this._sources.push(a);var p=this;return a.on("data",function(r){p.processChunk(r)}),a.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),a.on("error",function(r){p.error(r)}),this},v.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(a){var p=this._sources;if(!h.prototype.error.call(this,a))return!1;for(var r=0;r<p.length;r++)try{p[r].error(a)}catch{}return!0},v.prototype.lock=function(){h.prototype.lock.call(this);for(var a=this._sources,p=0;p<a.length;p++)a[p].lock()},I.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,I,w){"use strict";var f=b("../compressions"),l=b("./ZipFileWorker");w.generateWorker=function(n,h,t){var C=new l(h.streamFiles,t,h.platform,h.encodeFileName),_=0;try{n.forEach(function(v,a){_++;var p=function(m,y){var S=m||y,R=f[S];if(!R)throw new Error(S+" is not a valid compression method !");return R}(a.options.compression,h.compression),d=a.dir,s=a.date;a._compressWorker(p,a.options.compressionOptions||h.compressionOptions||{}).withStreamInfo("file",{name:v,dir:d,date:s,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(C)}),C.entriesCount=_}catch(v){C.error(v)}return C}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,I,w){"use strict";function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new f;for(var n in this)"function"!=typeof this[n]&&(l[n]=this[n]);return l}}(f.prototype=b("./object")).loadAsync=b("./load"),f.support=b("./support"),f.defaults=b("./defaults"),f.version="3.10.1",f.loadAsync=function(l,n){return(new f).loadAsync(l,n)},f.external=b("./external"),I.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,I,w){"use strict";var f=b("./utils"),l=b("./external"),n=b("./utf8"),h=b("./zipEntries"),t=b("./stream/Crc32Probe"),C=b("./nodejsUtils");function _(v){return new l.Promise(function(a,p){var r=v.decompressed.getContentWorker().pipe(new t);r.on("error",function(d){p(d)}).on("end",function(){r.streamInfo.crc32!==v.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}I.exports=function(v,a){var p=this;return a=f.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),C.isNode&&C.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",v,!0,a.optimizedBinaryString,a.base64).then(function(r){var d=new h(a);return d.load(r),d}).then(function(r){var d=[l.Promise.resolve(r)],s=r.files;if(a.checkCRC32)for(var m=0;m<s.length;m++)d.push(_(s[m]));return l.Promise.all(d)}).then(function(r){for(var d=r.shift(),s=d.files,m=0;m<s.length;m++){var y=s[m],S=y.fileNameStr,R=f.resolve(y.fileNameStr);p.file(R,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:a.createFolders}),y.dir||(p.file(R).unsafeOriginalName=S)}return d.zipComment.length&&(p.comment=d.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,I,w){"use strict";var f=b("../utils"),l=b("../stream/GenericWorker");function n(h,t){l.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(t)}f.inherits(n,l),n.prototype._bindStream=function(h){var t=this;(this._stream=h).pause(),h.on("data",function(C){t.push({data:C,meta:{percent:0}})}).on("error",function(C){t.isPaused?this.generatedError=C:t.error(C)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},n.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},I.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,I,w){"use strict";var f=b("readable-stream").Readable;function l(n,h,t){f.call(this,h),this._helper=n;var C=this;n.on("data",function(_,v){C.push(_)||C._helper.pause(),t&&t(v)}).on("error",function(_){C.emit("error",_)}).on("end",function(){C.push(null)})}b("../utils").inherits(l,f),l.prototype._read=function(){this._helper.resume()},I.exports=l},{"../utils":32,"readable-stream":16}],14:[function(b,I,w){"use strict";I.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,l);if("number"==typeof f)throw new Error('The "data" argument must not be a number');return new Buffer(f,l)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var l=new Buffer(f);return l.fill(0),l},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&"function"==typeof f.on&&"function"==typeof f.pause&&"function"==typeof f.resume}}},{}],15:[function(b,I,w){"use strict";function f(R,P,O){var q,E=n.getTypeOf(P),H=n.extend(O||{},C);H.date=H.date||new Date,null!==H.compression&&(H.compression=H.compression.toUpperCase()),"string"==typeof H.unixPermissions&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(R=s(R)),H.createFolders&&(q=d(R))&&m.call(this,q,!0),O&&void 0!==O.binary||(H.binary=!("string"===E&&!1===H.binary&&!1===H.base64)),(P instanceof _&&0===P.uncompressedSize||H.dir||!P||0===P.length)&&(H.base64=!1,H.binary=!0,P="",H.compression="STORE",E="string");var g;g=P instanceof _||P instanceof h?P:p.isNode&&p.isStream(P)?new r(R,P):n.prepareContent(R,P,H.binary,H.optimizedBinaryString,H.base64);var z=new v(R,g,H);this.files[R]=z}var l=b("./utf8"),n=b("./utils"),h=b("./stream/GenericWorker"),t=b("./stream/StreamHelper"),C=b("./defaults"),_=b("./compressedObject"),v=b("./zipObject"),a=b("./generate"),p=b("./nodejsUtils"),r=b("./nodejs/NodejsStreamInputAdapter"),d=function(R){"/"===R.slice(-1)&&(R=R.substring(0,R.length-1));var P=R.lastIndexOf("/");return 0<P?R.substring(0,P):""},s=function(R){return"/"!==R.slice(-1)&&(R+="/"),R},m=function(R,P){return P=void 0!==P?P:C.createFolders,R=s(R),this.files[R]||f.call(this,R,null,{dir:!0,createFolders:P}),this.files[R]};function y(R){return"[object RegExp]"===Object.prototype.toString.call(R)}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var P,O,q;for(P in this.files)q=this.files[P],(O=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&R(O,q)},filter:function(R){var P=[];return this.forEach(function(O,q){R(O,q)&&P.push(q)}),P},file:function(R,P,O){if(1!==arguments.length)return f.call(this,R=this.root+R,P,O),this;if(y(R)){var q=R;return this.filter(function(H,V){return!V.dir&&q.test(H)})}var E=this.files[this.root+R];return E&&!E.dir?E:null},folder:function(R){if(!R)return this;if(y(R))return this.filter(function(E,H){return H.dir&&R.test(E)});var O=m.call(this,this.root+R),q=this.clone();return q.root=O.name,q},remove:function(R){var P=this.files[R=this.root+R];if(P||("/"!==R.slice(-1)&&(R+="/"),P=this.files[R]),P&&!P.dir)delete this.files[R];else for(var O=this.filter(function(E,H){return H.name.slice(0,R.length)===R}),q=0;q<O.length;q++)delete this.files[O[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var P,O={};try{if((O=n.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),"binarystring"===O.type&&(O.type="string"),!O.type)throw new Error("No output type specified.");n.checkSupport(O.type),"darwin"!==O.platform&&"freebsd"!==O.platform&&"linux"!==O.platform&&"sunos"!==O.platform||(O.platform="UNIX"),"win32"===O.platform&&(O.platform="DOS"),P=a.generateWorker(this,O,O.comment||this.comment||"")}catch(E){(P=new h("error")).error(E)}return new t(P,O.type||"string",O.mimeType)},generateAsync:function(R,P){return this.generateInternalStream(R).accumulate(P)},generateNodeStream:function(R,P){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(P)}};I.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,I,w){"use strict";I.exports=b("stream")},{stream:void 0}],17:[function(b,I,w){"use strict";var f=b("./DataReader");function l(n){f.call(this,n);for(var h=0;h<this.data.length;h++)n[h]=255&n[h]}b("../utils").inherits(l,f),l.prototype.byteAt=function(n){return this.data[this.zero+n]},l.prototype.lastIndexOfSignature=function(n){for(var h=n.charCodeAt(0),t=n.charCodeAt(1),C=n.charCodeAt(2),_=n.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===h&&this.data[v+1]===t&&this.data[v+2]===C&&this.data[v+3]===_)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(n){var h=n.charCodeAt(0),t=n.charCodeAt(1),C=n.charCodeAt(2),_=n.charCodeAt(3),v=this.readData(4);return h===v[0]&&t===v[1]&&C===v[2]&&_===v[3]},l.prototype.readData=function(n){if(this.checkOffset(n),0===n)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,h},I.exports=l},{"../utils":32,"./DataReader":18}],18:[function(b,I,w){"use strict";var f=b("../utils");function l(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var h,t=0;for(this.checkOffset(n),h=this.index+n-1;h>=this.index;h--)t=(t<<8)+this.byteAt(h);return this.index+=n,t},readString:function(n){return f.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},I.exports=l},{"../utils":32}],19:[function(b,I,w){"use strict";var f=b("./Uint8ArrayReader");function l(n){f.call(this,n)}b("../utils").inherits(l,f),l.prototype.readData=function(n){this.checkOffset(n);var h=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,h},I.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,I,w){"use strict";var f=b("./DataReader");function l(n){f.call(this,n)}b("../utils").inherits(l,f),l.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},l.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},l.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},l.prototype.readData=function(n){this.checkOffset(n);var h=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,h},I.exports=l},{"../utils":32,"./DataReader":18}],21:[function(b,I,w){"use strict";var f=b("./ArrayReader");function l(n){f.call(this,n)}b("../utils").inherits(l,f),l.prototype.readData=function(n){if(this.checkOffset(n),0===n)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,h},I.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(b,I,w){"use strict";var f=b("../utils"),l=b("../support"),n=b("./ArrayReader"),h=b("./StringReader"),t=b("./NodeBufferReader"),C=b("./Uint8ArrayReader");I.exports=function(_){var v=f.getTypeOf(_);return f.checkSupport(v),"string"!==v||l.uint8array?"nodebuffer"===v?new t(_):l.uint8array?new C(f.transformTo("uint8array",_)):new n(f.transformTo("array",_)):new h(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,I,w){"use strict";w.LOCAL_FILE_HEADER="PK\x03\x04",w.CENTRAL_FILE_HEADER="PK\x01\x02",w.CENTRAL_DIRECTORY_END="PK\x05\x06",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(b,I,w){"use strict";var f=b("./GenericWorker"),l=b("../utils");function n(h){f.call(this,"ConvertWorker to "+h),this.destType=h}l.inherits(n,f),n.prototype.processChunk=function(h){this.push({data:l.transformTo(this.destType,h.data),meta:h.meta})},I.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(b,I,w){"use strict";var f=b("./GenericWorker"),l=b("../crc32");function n(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}b("../utils").inherits(n,f),n.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},I.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,I,w){"use strict";var f=b("../utils"),l=b("./GenericWorker");function n(h){l.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}f.inherits(n,l),n.prototype.processChunk=function(h){h&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+h.data.length),l.prototype.processChunk.call(this,h)},I.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(b,I,w){"use strict";var f=b("../utils"),l=b("./GenericWorker");function n(h){l.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(C){t.dataIsReady=!0,t.data=C,t.max=C&&C.length||0,t.type=f.getTypeOf(C),t.isPaused||t._tickAndRepeat()},function(C){t.error(C)})}f.inherits(n,l),n.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,t);break;case"uint8array":h=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":h=this.data.slice(this.index,t)}return this.index=t,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},I.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(b,I,w){"use strict";function f(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,n){return this._listeners[l].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,n){if(this._listeners[l])for(var h=0;h<this._listeners[l].length;h++)this._listeners[l][h].call(this,n)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var n=this;return l.on("data",function(h){n.processChunk(h)}),l.on("end",function(){n.end()}),l.on("error",function(h){n.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,n){return this.extraStreamInfo[l]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},I.exports=f},{}],29:[function(b,I,w){"use strict";var f=b("../utils"),l=b("./ConvertWorker"),n=b("./GenericWorker"),h=b("../base64"),t=b("../support"),C=b("../external"),_=null;if(t.nodestream)try{_=b("../nodejs/NodejsStreamOutputAdapter")}catch{}function a(p,r,d){var s=r;switch(r){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=r,this._mimeType=d,f.checkSupport(s),this._worker=p.pipe(new l(s)),p.lock()}catch(m){this._worker=new n("error"),this._worker.error(m)}}a.prototype={accumulate:function(p){return function v(p,r){return new C.Promise(function(d,s){var m=[],y=p._internalType,S=p._outputType,R=p._mimeType;p.on("data",function(P,O){m.push(P),r&&r(O)}).on("error",function(P){m=[],s(P)}).on("end",function(){try{var P=function(O,q,E){switch(O){case"blob":return f.newBlob(f.transformTo("arraybuffer",q),E);case"base64":return h.encode(q);default:return f.transformTo(O,q)}}(S,function(O,q){var E,H=0,V=null,g=0;for(E=0;E<q.length;E++)g+=q[E].length;switch(O){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(V=new Uint8Array(g),E=0;E<q.length;E++)V.set(q[E],H),H+=q[E].length;return V;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+O+"'")}}(y,m),R);d(P)}catch(O){s(O)}m=[]}).resume()})}(this,p)},on:function(p,r){var d=this;return this._worker.on(p,"data"===p?function(s){r.call(d,s.data,s.meta)}:function(){f.delay(r,arguments,d)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(f.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:"nodebuffer"!==this._outputType},p)}},I.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,I,w){"use strict";if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var f=new ArrayBuffer(0);try{w.blob=0===new Blob([f],{type:"application/zip"}).size}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(f),w.blob=0===l.getBlob("application/zip").size}catch{w.blob=!1}}}try{w.nodestream=!!b("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(b,I,w){"use strict";for(var f=b("./utils"),l=b("./support"),n=b("./nodejsUtils"),h=b("./stream/GenericWorker"),t=new Array(256),C=0;C<256;C++)t[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function _(){h.call(this,"utf-8 decode"),this.leftOver=null}function v(){h.call(this,"utf-8 encode")}t[254]=t[254]=1,w.utf8encode=function(a){return l.nodebuffer?n.newBufferFrom(a,"utf-8"):function(p){var r,d,s,m,y,S=p.length,R=0;for(m=0;m<S;m++)55296==(64512&(d=p.charCodeAt(m)))&&m+1<S&&56320==(64512&(s=p.charCodeAt(m+1)))&&(d=65536+(d-55296<<10)+(s-56320),m++),R+=d<128?1:d<2048?2:d<65536?3:4;for(r=l.uint8array?new Uint8Array(R):new Array(R),m=y=0;y<R;m++)55296==(64512&(d=p.charCodeAt(m)))&&m+1<S&&56320==(64512&(s=p.charCodeAt(m+1)))&&(d=65536+(d-55296<<10)+(s-56320),m++),d<128?r[y++]=d:(d<2048?r[y++]=192|d>>>6:(d<65536?r[y++]=224|d>>>12:(r[y++]=240|d>>>18,r[y++]=128|d>>>12&63),r[y++]=128|d>>>6&63),r[y++]=128|63&d);return r}(a)},w.utf8decode=function(a){return l.nodebuffer?f.transformTo("nodebuffer",a).toString("utf-8"):function(p){var r,d,s,m,y=p.length,S=new Array(2*y);for(r=d=0;r<y;)if((s=p[r++])<128)S[d++]=s;else if(4<(m=t[s]))S[d++]=65533,r+=m-1;else{for(s&=2===m?31:3===m?15:7;1<m&&r<y;)s=s<<6|63&p[r++],m--;1<m?S[d++]=65533:s<65536?S[d++]=s:(S[d++]=55296|(s-=65536)>>10&1023,S[d++]=56320|1023&s)}return S.length!==d&&(S.subarray?S=S.subarray(0,d):S.length=d),f.applyFromCharCode(S)}(a=f.transformTo(l.uint8array?"uint8array":"array",a))},f.inherits(_,h),_.prototype.processChunk=function(a){var p=f.transformTo(l.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var r=p;(p=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),p.set(r,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var d=function(m,y){var S;for((y=y||m.length)>m.length&&(y=m.length),S=y-1;0<=S&&128==(192&m[S]);)S--;return S<0||0===S?y:S+t[m[S]]>y?S:y}(p),s=p;d!==p.length&&(l.uint8array?(s=p.subarray(0,d),this.leftOver=p.subarray(d,p.length)):(s=p.slice(0,d),this.leftOver=p.slice(d,p.length))),this.push({data:w.utf8decode(s),meta:a.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=_,f.inherits(v,h),v.prototype.processChunk=function(a){this.push({data:w.utf8encode(a.data),meta:a.meta})},w.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,I,w){"use strict";var f=b("./support"),l=b("./base64"),n=b("./nodejsUtils"),h=b("./external");function t(r){return r}function C(r,d){for(var s=0;s<r.length;++s)d[s]=255&r.charCodeAt(s);return d}b("setimmediate"),w.newBlob=function(r,d){w.checkSupport("blob");try{return new Blob([r],{type:d})}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(r),s.getBlob(d)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(r,d,s){var m=[],y=0,S=r.length;if(S<=s)return String.fromCharCode.apply(null,r);for(;y<S;)m.push(String.fromCharCode.apply(null,"array"===d||"nodebuffer"===d?r.slice(y,Math.min(y+s,S)):r.subarray(y,Math.min(y+s,S)))),y+=s;return m.join("")},stringifyByChar:function(r){for(var d="",s=0;s<r.length;s++)d+=String.fromCharCode(r[s]);return d},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&1===String.fromCharCode.apply(null,n.allocBuffer(1)).length}catch{return!1}}()}};function v(r){var d=65536,s=w.getTypeOf(r),m=!0;if("uint8array"===s?m=_.applyCanBeUsed.uint8array:"nodebuffer"===s&&(m=_.applyCanBeUsed.nodebuffer),m)for(;1<d;)try{return _.stringifyByChunk(r,s,d)}catch{d=Math.floor(d/2)}return _.stringifyByChar(r)}function a(r,d){for(var s=0;s<r.length;s++)d[s]=r[s];return d}w.applyFromCharCode=v;var p={};p.string={string:t,array:function(r){return C(r,new Array(r.length))},arraybuffer:function(r){return p.string.uint8array(r).buffer},uint8array:function(r){return C(r,new Uint8Array(r.length))},nodebuffer:function(r){return C(r,n.allocBuffer(r.length))}},p.array={string:v,array:t,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return n.newBufferFrom(r)}},p.arraybuffer={string:function(r){return v(new Uint8Array(r))},array:function(r){return a(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:t,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return n.newBufferFrom(new Uint8Array(r))}},p.uint8array={string:v,array:function(r){return a(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:t,nodebuffer:function(r){return n.newBufferFrom(r)}},p.nodebuffer={string:v,array:function(r){return a(r,new Array(r.length))},arraybuffer:function(r){return p.nodebuffer.uint8array(r).buffer},uint8array:function(r){return a(r,new Uint8Array(r.length))},nodebuffer:t},w.transformTo=function(r,d){if(d=d||"",!r)return d;w.checkSupport(r);var s=w.getTypeOf(d);return p[s][r](d)},w.resolve=function(r){for(var d=r.split("/"),s=[],m=0;m<d.length;m++){var y=d[m];"."===y||""===y&&0!==m&&m!==d.length-1||(".."===y?s.pop():s.push(y))}return s.join("/")},w.getTypeOf=function(r){return"string"==typeof r?"string":"[object Array]"===Object.prototype.toString.call(r)?"array":f.nodebuffer&&n.isBuffer(r)?"nodebuffer":f.uint8array&&r instanceof Uint8Array?"uint8array":f.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function(r){if(!f[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function(r){var d,s,m="";for(s=0;s<(r||"").length;s++)m+="\\x"+((d=r.charCodeAt(s))<16?"0":"")+d.toString(16).toUpperCase();return m},w.delay=function(r,d,s){setImmediate(function(){r.apply(s||null,d||[])})},w.inherits=function(r,d){function s(){}s.prototype=d.prototype,r.prototype=new s},w.extend=function(){var r,d,s={};for(r=0;r<arguments.length;r++)for(d in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],d)&&void 0===s[d]&&(s[d]=arguments[r][d]);return s},w.prepareContent=function(r,d,s,m,y){return h.Promise.resolve(d).then(function(S){return f.blob&&(S instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S)))&&typeof FileReader<"u"?new h.Promise(function(R,P){var O=new FileReader;O.onload=function(q){R(q.target.result)},O.onerror=function(q){P(q.target.error)},O.readAsArrayBuffer(S)}):S}).then(function(S){var P,R=w.getTypeOf(S);return R?("arraybuffer"===R?S=w.transformTo("uint8array",S):"string"===R&&(y?S=l.decode(S):s&&!0!==m&&(S=C(P=S,f.uint8array?new Uint8Array(P.length):new Array(P.length)))),S):h.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(b,I,w){"use strict";var f=b("./reader/readerFor"),l=b("./utils"),n=b("./signature"),h=b("./zipEntry"),t=b("./support");function C(_){this.files=[],this.loadOptions=_}C.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(_)+")")}},isSignature:function(_,v){var a=this.reader.index;this.reader.setIndex(_);var p=this.reader.readString(4)===v;return this.reader.setIndex(a),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),a=l.transformTo(t.uint8array?"uint8array":"array",_);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,v,a,p=this.zip64EndOfCentralSize-44;0<p;)_=this.reader.readInt(2),v=this.reader.readInt(4),a=this.reader.readData(v),this.zip64ExtensibleData[_]={id:_,length:v,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,v;for(_=0;_<this.files.length;_++)this.reader.setIndex((v=this.files[_]).localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(_=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var v=_;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var p=v-a;if(0<p)this.isSignature(v,n.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(_){this.reader=f(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},I.exports=C},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(b,I,w){"use strict";var f=b("./reader/readerFor"),l=b("./utils"),n=b("./compressedObject"),h=b("./crc32"),t=b("./utf8"),C=b("./compressions"),_=b("./support");function v(a,p){this.options=a,this.loadOptions=p}v.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(a){var p,r;if(a.skip(22),this.fileNameLength=a.readInt(2),r=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(p=function(d){for(var s in C)if(Object.prototype.hasOwnProperty.call(C,s)&&C[s].magic===d)return C[s];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,p,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var p=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(p),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==a&&(this.dosPermissions=63&this.externalFileAttributes),3==a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=f(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var p,r,d,s=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<s;)p=a.readInt(2),r=a.readInt(2),d=a.readData(r),this.extraFields[p]={id:p,length:r,value:d};a.setIndex(s)},handleUTF8:function(){var a=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=t.utf8decode(this.fileName),this.fileCommentStr=t.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(null!==p)this.fileNameStr=p;else{var r=l.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var s=l.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var p=f(a.value);return 1!==p.readInt(1)||h(this.fileName)!==p.readInt(4)?null:t.utf8decode(p.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var p=f(a.value);return 1!==p.readInt(1)||h(this.fileComment)!==p.readInt(4)?null:t.utf8decode(p.readData(a.length-5))}return null}},I.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,I,w){"use strict";function f(p,r,d){this.name=p,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=r,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}}var l=b("./stream/StreamHelper"),n=b("./stream/DataWorker"),h=b("./utf8"),t=b("./compressedObject"),C=b("./stream/GenericWorker");f.prototype={internalStream:function(p){var r=null,d="string";try{if(!p)throw new Error("No output type specified.");var s="string"===(d=p.toLowerCase())||"text"===d;"binarystring"!==d&&"text"!==d||(d="string"),r=this._decompressWorker();var m=!this._dataBinary;m&&!s&&(r=r.pipe(new h.Utf8EncodeWorker)),!m&&s&&(r=r.pipe(new h.Utf8DecodeWorker))}catch(y){(r=new C("error")).error(y)}return new l(r,d,"")},async:function(p,r){return this.internalStream(p).accumulate(r)},nodeStream:function(p,r){return this.internalStream(p||"nodebuffer").toNodejsStream(r)},_compressWorker:function(p,r){if(this._data instanceof t&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new h.Utf8EncodeWorker)),t.createWorkerFrom(d,p,r)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof C?this._data:new n(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<_.length;a++)f.prototype[_[a]]=v;I.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,I,w){(function(f){"use strict";var l,n,h=f.MutationObserver||f.WebKitMutationObserver;if(h){var t=0,C=new h(p),_=f.document.createTextNode("");C.observe(_,{characterData:!0}),l=function(){_.data=t=++t%2}}else if(f.setImmediate||void 0===f.MessageChannel)l="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var r=f.document.createElement("script");r.onreadystatechange=function(){p(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},f.document.documentElement.appendChild(r)}:function(){setTimeout(p,0)};else{var v=new f.MessageChannel;v.port1.onmessage=p,l=function(){v.port2.postMessage(0)}}var a=[];function p(){var r,d;n=!0;for(var s=a.length;s;){for(d=a,a=[],r=-1;++r<s;)d[r]();s=a.length}n=!1}I.exports=function(r){1!==a.push(r)||n||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(b,I,w){"use strict";var f=b("immediate");function l(){}var n={},h=["REJECTED"],t=["FULFILLED"],C=["PENDING"];function _(s){if("function"!=typeof s)throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,s!==l&&r(this,s)}function v(s,m,y){this.promise=s,"function"==typeof m&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),"function"==typeof y&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function a(s,m,y){f(function(){var S;try{S=m(y)}catch(R){return n.reject(s,R)}S===s?n.reject(s,new TypeError("Cannot resolve promise with itself")):n.resolve(s,S)})}function p(s){var m=s&&s.then;if(s&&("object"==typeof s||"function"==typeof s)&&"function"==typeof m)return function(){m.apply(s,arguments)}}function r(s,m){var y=!1;function S(O){y||(y=!0,n.reject(s,O))}function R(O){y||(y=!0,n.resolve(s,O))}var P=d(function(){m(R,S)});"error"===P.status&&S(P.value)}function d(s,m){var y={};try{y.value=s(m),y.status="success"}catch(S){y.status="error",y.value=S}return y}(I.exports=_).prototype.finally=function(s){if("function"!=typeof s)return this;var m=this.constructor;return this.then(function(y){return m.resolve(s()).then(function(){return y})},function(y){return m.resolve(s()).then(function(){throw y})})},_.prototype.catch=function(s){return this.then(null,s)},_.prototype.then=function(s,m){if("function"!=typeof s&&this.state===t||"function"!=typeof m&&this.state===h)return this;var y=new this.constructor(l);return this.state!==C?a(y,this.state===t?s:m,this.outcome):this.queue.push(new v(y,s,m)),y},v.prototype.callFulfilled=function(s){n.resolve(this.promise,s)},v.prototype.otherCallFulfilled=function(s){a(this.promise,this.onFulfilled,s)},v.prototype.callRejected=function(s){n.reject(this.promise,s)},v.prototype.otherCallRejected=function(s){a(this.promise,this.onRejected,s)},n.resolve=function(s,m){var y=d(p,m);if("error"===y.status)return n.reject(s,y.value);var S=y.value;if(S)r(s,S);else{s.state=t,s.outcome=m;for(var R=-1,P=s.queue.length;++R<P;)s.queue[R].callFulfilled(m)}return s},n.reject=function(s,m){s.state=h,s.outcome=m;for(var y=-1,S=s.queue.length;++y<S;)s.queue[y].callRejected(m);return s},_.resolve=function(s){return s instanceof this?s:n.resolve(new this(l),s)},_.reject=function(s){var m=new this(l);return n.reject(m,s)},_.all=function(s){var m=this;if("[object Array]"!==Object.prototype.toString.call(s))return this.reject(new TypeError("must be an array"));var y=s.length,S=!1;if(!y)return this.resolve([]);for(var R=new Array(y),P=0,O=-1,q=new this(l);++O<y;)E(s[O],O);return q;function E(H,V){m.resolve(H).then(function(g){R[V]=g,++P!==y||S||(S=!0,n.resolve(q,R))},function(g){S||(S=!0,n.reject(q,g))})}},_.race=function(s){if("[object Array]"!==Object.prototype.toString.call(s))return this.reject(new TypeError("must be an array"));var y=s.length,S=!1;if(!y)return this.resolve([]);for(var R=-1,P=new this(l);++R<y;)this.resolve(s[R]).then(function(q){S||(S=!0,n.resolve(P,q))},function(q){S||(S=!0,n.reject(P,q))});return P}},{immediate:36}],38:[function(b,I,w){"use strict";var f={};(0,b("./lib/utils/common").assign)(f,b("./lib/deflate"),b("./lib/inflate"),b("./lib/zlib/constants")),I.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(b,I,w){"use strict";var f=b("./zlib/deflate"),l=b("./utils/common"),n=b("./utils/strings"),h=b("./zlib/messages"),t=b("./zlib/zstream"),C=Object.prototype.toString;function r(s){if(!(this instanceof r))return new r(s);this.options=l.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},s||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var y=f.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(0!==y)throw new Error(h[y]);if(m.header&&f.deflateSetHeader(this.strm,m.header),m.dictionary){var S;if(S="string"==typeof m.dictionary?n.string2buf(m.dictionary):"[object ArrayBuffer]"===C.call(m.dictionary)?new Uint8Array(m.dictionary):m.dictionary,0!==(y=f.deflateSetDictionary(this.strm,S)))throw new Error(h[y]);this._dict_set=!0}}function d(s,m){var y=new r(m);if(y.push(s,!0),y.err)throw y.msg||h[y.err];return y.result}r.prototype.push=function(s,m){var y,S,R=this.strm,P=this.options.chunkSize;if(this.ended)return!1;S=m===~~m?m:!0===m?4:0,R.input="string"==typeof s?n.string2buf(s):"[object ArrayBuffer]"===C.call(s)?new Uint8Array(s):s,R.next_in=0,R.avail_in=R.input.length;do{if(0===R.avail_out&&(R.output=new l.Buf8(P),R.next_out=0,R.avail_out=P),1!==(y=f.deflate(R,S))&&0!==y)return this.onEnd(y),!(this.ended=!0);0!==R.avail_out&&(0!==R.avail_in||4!==S&&2!==S)||this.onData("string"===this.options.to?n.buf2binstring(l.shrinkBuf(R.output,R.next_out)):l.shrinkBuf(R.output,R.next_out))}while((0<R.avail_in||0===R.avail_out)&&1!==y);return 4===S?(y=f.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,0===y):2!==S||(this.onEnd(0),!(R.avail_out=0))},r.prototype.onData=function(s){this.chunks.push(s)},r.prototype.onEnd=function(s){0===s&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},w.Deflate=r,w.deflate=d,w.deflateRaw=function(s,m){return(m=m||{}).raw=!0,d(s,m)},w.gzip=function(s,m){return(m=m||{}).gzip=!0,d(s,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(b,I,w){"use strict";var f=b("./zlib/inflate"),l=b("./utils/common"),n=b("./utils/strings"),h=b("./zlib/constants"),t=b("./zlib/messages"),C=b("./zlib/zstream"),_=b("./zlib/gzheader"),v=Object.prototype.toString;function a(r){if(!(this instanceof a))return new a(r);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},r||{});var d=this.options;d.raw&&0<=d.windowBits&&d.windowBits<16&&(d.windowBits=-d.windowBits,0===d.windowBits&&(d.windowBits=-15)),!(0<=d.windowBits&&d.windowBits<16)||r&&r.windowBits||(d.windowBits+=32),15<d.windowBits&&d.windowBits<48&&0==(15&d.windowBits)&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var s=f.inflateInit2(this.strm,d.windowBits);if(s!==h.Z_OK)throw new Error(t[s]);this.header=new _,f.inflateGetHeader(this.strm,this.header)}function p(r,d){var s=new a(d);if(s.push(r,!0),s.err)throw s.msg||t[s.err];return s.result}a.prototype.push=function(r,d){var s,m,y,S,R,P,O=this.strm,q=this.options.chunkSize,E=this.options.dictionary,H=!1;if(this.ended)return!1;m=d===~~d?d:!0===d?h.Z_FINISH:h.Z_NO_FLUSH,O.input="string"==typeof r?n.binstring2buf(r):"[object ArrayBuffer]"===v.call(r)?new Uint8Array(r):r,O.next_in=0,O.avail_in=O.input.length;do{if(0===O.avail_out&&(O.output=new l.Buf8(q),O.next_out=0,O.avail_out=q),(s=f.inflate(O,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&E&&(P="string"==typeof E?n.string2buf(E):"[object ArrayBuffer]"===v.call(E)?new Uint8Array(E):E,s=f.inflateSetDictionary(this.strm,P)),s===h.Z_BUF_ERROR&&!0===H&&(s=h.Z_OK,H=!1),s!==h.Z_STREAM_END&&s!==h.Z_OK)return this.onEnd(s),!(this.ended=!0);O.next_out&&(0!==O.avail_out&&s!==h.Z_STREAM_END&&(0!==O.avail_in||m!==h.Z_FINISH&&m!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(y=n.utf8border(O.output,O.next_out),S=O.next_out-y,R=n.buf2string(O.output,y),O.next_out=S,O.avail_out=q-S,S&&l.arraySet(O.output,O.output,y,S,0),this.onData(R)):this.onData(l.shrinkBuf(O.output,O.next_out)))),0===O.avail_in&&0===O.avail_out&&(H=!0)}while((0<O.avail_in||0===O.avail_out)&&s!==h.Z_STREAM_END);return s===h.Z_STREAM_END&&(m=h.Z_FINISH),m===h.Z_FINISH?(s=f.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===h.Z_OK):m!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(O.avail_out=0))},a.prototype.onData=function(r){this.chunks.push(r)},a.prototype.onEnd=function(r){r===h.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},w.Inflate=a,w.inflate=p,w.inflateRaw=function(r,d){return(d=d||{}).raw=!0,p(r,d)},w.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(b,I,w){"use strict";var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(h){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var C=t.shift();if(C){if("object"!=typeof C)throw new TypeError(C+"must be non-object");for(var _ in C)C.hasOwnProperty(_)&&(h[_]=C[_])}}return h},w.shrinkBuf=function(h,t){return h.length===t?h:h.subarray?h.subarray(0,t):(h.length=t,h)};var l={arraySet:function(h,t,C,_,v){if(t.subarray&&h.subarray)h.set(t.subarray(C,C+_),v);else for(var a=0;a<_;a++)h[v+a]=t[C+a]},flattenChunks:function(h){var t,C,_,v,a,p;for(t=_=0,C=h.length;t<C;t++)_+=h[t].length;for(p=new Uint8Array(_),t=v=0,C=h.length;t<C;t++)p.set(a=h[t],v),v+=a.length;return p}},n={arraySet:function(h,t,C,_,v){for(var a=0;a<_;a++)h[v+a]=t[C+a]},flattenChunks:function(h){return[].concat.apply([],h)}};w.setTyped=function(h){h?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,l)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,n))},w.setTyped(f)},{}],42:[function(b,I,w){"use strict";var f=b("./common"),l=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var h=new f.Buf8(256),t=0;t<256;t++)h[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;function C(_,v){if(v<65537&&(_.subarray&&n||!_.subarray&&l))return String.fromCharCode.apply(null,f.shrinkBuf(_,v));for(var a="",p=0;p<v;p++)a+=String.fromCharCode(_[p]);return a}h[254]=h[254]=1,w.string2buf=function(_){var v,a,p,r,d,s=_.length,m=0;for(r=0;r<s;r++)55296==(64512&(a=_.charCodeAt(r)))&&r+1<s&&56320==(64512&(p=_.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(p-56320),r++),m+=a<128?1:a<2048?2:a<65536?3:4;for(v=new f.Buf8(m),r=d=0;d<m;r++)55296==(64512&(a=_.charCodeAt(r)))&&r+1<s&&56320==(64512&(p=_.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(p-56320),r++),a<128?v[d++]=a:(a<2048?v[d++]=192|a>>>6:(a<65536?v[d++]=224|a>>>12:(v[d++]=240|a>>>18,v[d++]=128|a>>>12&63),v[d++]=128|a>>>6&63),v[d++]=128|63&a);return v},w.buf2binstring=function(_){return C(_,_.length)},w.binstring2buf=function(_){for(var v=new f.Buf8(_.length),a=0,p=v.length;a<p;a++)v[a]=_.charCodeAt(a);return v},w.buf2string=function(_,v){var a,p,r,d,s=v||_.length,m=new Array(2*s);for(a=p=0;a<s;)if((r=_[a++])<128)m[p++]=r;else if(4<(d=h[r]))m[p++]=65533,a+=d-1;else{for(r&=2===d?31:3===d?15:7;1<d&&a<s;)r=r<<6|63&_[a++],d--;1<d?m[p++]=65533:r<65536?m[p++]=r:(m[p++]=55296|(r-=65536)>>10&1023,m[p++]=56320|1023&r)}return C(m,p)},w.utf8border=function(_,v){var a;for((v=v||_.length)>_.length&&(v=_.length),a=v-1;0<=a&&128==(192&_[a]);)a--;return a<0||0===a?v:a+h[_[a]]>v?a:v}},{"./common":41}],43:[function(b,I,w){"use strict";I.exports=function(f,l,n,h){for(var t=65535&f|0,C=f>>>16&65535|0,_=0;0!==n;){for(n-=_=2e3<n?2e3:n;C=C+(t=t+l[h++]|0)|0,--_;);t%=65521,C%=65521}return t|C<<16|0}},{}],44:[function(b,I,w){"use strict";I.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(b,I,w){"use strict";var f=function(){for(var l,n=[],h=0;h<256;h++){l=h;for(var t=0;t<8;t++)l=1&l?3988292384^l>>>1:l>>>1;n[h]=l}return n}();I.exports=function(l,n,h,t){var C=f,_=t+h;l^=-1;for(var v=t;v<_;v++)l=l>>>8^C[255&(l^n[v])];return-1^l}},{}],46:[function(b,I,w){"use strict";var f,l=b("../utils/common"),n=b("./trees"),h=b("./adler32"),t=b("./crc32"),C=b("./messages"),p=-2,H=258,V=262,z=113;function nt(e,B){return e.msg=C[B],B}function G(e){return(e<<1)-(4<e?9:0)}function it(e){for(var B=e.length;0<=--B;)e[B]=0}function D(e){var B=e.state,M=B.pending;M>e.avail_out&&(M=e.avail_out),0!==M&&(l.arraySet(e.output,B.pending_buf,B.pending_out,M,e.next_out),e.next_out+=M,B.pending_out+=M,e.total_out+=M,e.avail_out-=M,B.pending-=M,0===B.pending&&(B.pending_out=0))}function T(e,B){n._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,B),e.block_start=e.strstart,D(e.strm)}function et(e,B){e.pending_buf[e.pending++]=B}function $(e,B){e.pending_buf[e.pending++]=B>>>8&255,e.pending_buf[e.pending++]=255&B}function K(e,B){var M,u,o=e.max_chain_length,x=e.strstart,L=e.prev_length,J=e.nice_match,A=e.strstart>e.w_size-V?e.strstart-(e.w_size-V):0,W=e.window,X=e.w_mask,Q=e.prev,tt=e.strstart+H,lt=W[x+L-1],st=W[x+L];e.prev_length>=e.good_match&&(o>>=2),J>e.lookahead&&(J=e.lookahead);do{if(W[(M=B)+L]===st&&W[M+L-1]===lt&&W[M]===W[x]&&W[++M]===W[x+1]){x+=2,M++;do{}while(W[++x]===W[++M]&&W[++x]===W[++M]&&W[++x]===W[++M]&&W[++x]===W[++M]&&W[++x]===W[++M]&&W[++x]===W[++M]&&W[++x]===W[++M]&&W[++x]===W[++M]&&x<tt);if(u=H-(tt-x),x=tt-H,L<u){if(e.match_start=B,J<=(L=u))break;lt=W[x+L-1],st=W[x+L]}}}while((B=Q[B&X])>A&&0!=--o);return L<=e.lookahead?L:e.lookahead}function ht(e){var B,M,u,o,x,L,J,A,W,X,Q=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=Q+(Q-V)){for(l.arraySet(e.window,e.window,Q,Q,0),e.match_start-=Q,e.strstart-=Q,e.block_start-=Q,B=M=e.hash_size;u=e.head[--B],e.head[B]=Q<=u?u-Q:0,--M;);for(B=M=Q;u=e.prev[--B],e.prev[B]=Q<=u?u-Q:0,--M;);o+=Q}if(0===e.strm.avail_in)break;if(J=e.window,A=e.strstart+e.lookahead,X=void 0,(W=o)<(X=(L=e.strm).avail_in)&&(X=W),M=0===X?0:(L.avail_in-=X,l.arraySet(J,L.input,L.next_in,X,A),1===L.state.wrap?L.adler=h(L.adler,J,X,A):2===L.state.wrap&&(L.adler=t(L.adler,J,X,A)),L.next_in+=X,L.total_in+=X,X),e.lookahead+=M,e.lookahead+e.insert>=3)for(e.ins_h=e.window[x=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+3-1])&e.hash_mask,e.prev[x&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=x,x++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<V&&0!==e.strm.avail_in)}function ft(e,B){for(var M,u;;){if(e.lookahead<V){if(ht(e),e.lookahead<V&&0===B)return 1;if(0===e.lookahead)break}if(M=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,M=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==M&&e.strstart-M<=e.w_size-V&&(e.match_length=K(e,M)),e.match_length>=3)if(u=n._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,M=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else u=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(u&&(T(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===B?(T(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(T(e,!1),0===e.strm.avail_out)?1:2}function at(e,B){for(var M,u,o;;){if(e.lookahead<V){if(ht(e),e.lookahead<V&&0===B)return 1;if(0===e.lookahead)break}if(M=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,M=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==M&&e.prev_length<e.max_lazy_match&&e.strstart-M<=e.w_size-V&&(e.match_length=K(e,M),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-3,u=n._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,M=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,u&&(T(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((u=n._tr_tally(e,0,e.window[e.strstart-1]))&&T(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(u=n._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===B?(T(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(T(e,!1),0===e.strm.avail_out)?1:2}function ot(e,B,M,u,o){this.good_length=e,this.max_lazy=B,this.nice_length=M,this.max_chain=u,this.func=o}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(1146),this.dyn_dtree=new l.Buf16(122),this.bl_tree=new l.Buf16(78),it(this.dyn_ltree),it(this.dyn_dtree),it(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(16),this.heap=new l.Buf16(573),it(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(573),it(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(e){var B;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(B=e.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?42:z,e.adler=2===B.wrap?0:1,B.last_flush=0,n._tr_init(B),0):nt(e,p)}function _t(e){var M,B=dt(e);return 0===B&&((M=e.state).window_size=2*M.w_size,it(M.head),M.max_lazy_match=f[M.level].max_lazy,M.good_match=f[M.level].good_length,M.nice_match=f[M.level].nice_length,M.max_chain_length=f[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=2,M.match_available=0,M.ins_h=0),B}function mt(e,B,M,u,o,x){if(!e)return p;var L=1;if(-1===B&&(B=6),u<0?(L=0,u=-u):15<u&&(L=2,u-=16),o<1||9<o||8!==M||u<8||15<u||B<0||9<B||x<0||4<x)return nt(e,p);8===u&&(u=9);var J=new ut;return(e.state=J).strm=e,J.wrap=L,J.gzhead=null,J.w_bits=u,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=o+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+3-1)/3),J.window=new l.Buf8(2*J.w_size),J.head=new l.Buf16(J.hash_size),J.prev=new l.Buf16(J.w_size),J.lit_bufsize=1<<o+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new l.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=B,J.strategy=x,J.method=M,_t(e)}f=[new ot(0,0,0,0,function(e,B){var M=65535;for(M>e.pending_buf_size-5&&(M=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ht(e),0===e.lookahead&&0===B)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var u=e.block_start+M;if((0===e.strstart||e.strstart>=u)&&(e.lookahead=e.strstart-u,e.strstart=u,T(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-V&&(T(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===B?(T(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&T(e,!1),1)}),new ot(4,4,8,4,ft),new ot(4,5,16,8,ft),new ot(4,6,32,32,ft),new ot(4,4,16,16,at),new ot(8,16,32,32,at),new ot(8,16,128,128,at),new ot(8,32,128,256,at),new ot(32,128,258,1024,at),new ot(32,258,258,4096,at)],w.deflateInit=function(e,B){return mt(e,B,8,15,8,0)},w.deflateInit2=mt,w.deflateReset=_t,w.deflateResetKeep=dt,w.deflateSetHeader=function(e,B){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=B,0):p},w.deflate=function(e,B){var M,u,o,x;if(!e||!e.state||5<B||B<0)return e?nt(e,p):p;if(u=e.state,!e.output||!e.input&&0!==e.avail_in||666===u.status&&4!==B)return nt(e,0===e.avail_out?-5:p);if(u.strm=e,M=u.last_flush,u.last_flush=B,42===u.status)if(2===u.wrap)e.adler=0,et(u,31),et(u,139),et(u,8),u.gzhead?(et(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),et(u,255&u.gzhead.time),et(u,u.gzhead.time>>8&255),et(u,u.gzhead.time>>16&255),et(u,u.gzhead.time>>24&255),et(u,9===u.level?2:2<=u.strategy||u.level<2?4:0),et(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(et(u,255&u.gzhead.extra.length),et(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(e.adler=t(e.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=69):(et(u,0),et(u,0),et(u,0),et(u,0),et(u,0),et(u,9===u.level?2:2<=u.strategy||u.level<2?4:0),et(u,3),u.status=z);else{var L=8+(u.w_bits-8<<4)<<8;L|=(2<=u.strategy||u.level<2?0:u.level<6?1:6===u.level?2:3)<<6,0!==u.strstart&&(L|=32),L+=31-L%31,u.status=z,$(u,L),0!==u.strstart&&($(u,e.adler>>>16),$(u,65535&e.adler)),e.adler=1}if(69===u.status)if(u.gzhead.extra){for(o=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>o&&(e.adler=t(e.adler,u.pending_buf,u.pending-o,o)),D(e),o=u.pending,u.pending!==u.pending_buf_size));)et(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>o&&(e.adler=t(e.adler,u.pending_buf,u.pending-o,o)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=73)}else u.status=73;if(73===u.status)if(u.gzhead.name){o=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>o&&(e.adler=t(e.adler,u.pending_buf,u.pending-o,o)),D(e),o=u.pending,u.pending===u.pending_buf_size)){x=1;break}x=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,et(u,x)}while(0!==x);u.gzhead.hcrc&&u.pending>o&&(e.adler=t(e.adler,u.pending_buf,u.pending-o,o)),0===x&&(u.gzindex=0,u.status=91)}else u.status=91;if(91===u.status)if(u.gzhead.comment){o=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>o&&(e.adler=t(e.adler,u.pending_buf,u.pending-o,o)),D(e),o=u.pending,u.pending===u.pending_buf_size)){x=1;break}x=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,et(u,x)}while(0!==x);u.gzhead.hcrc&&u.pending>o&&(e.adler=t(e.adler,u.pending_buf,u.pending-o,o)),0===x&&(u.status=103)}else u.status=103;if(103===u.status&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&D(e),u.pending+2<=u.pending_buf_size&&(et(u,255&e.adler),et(u,e.adler>>8&255),e.adler=0,u.status=z)):u.status=z),0!==u.pending){if(D(e),0===e.avail_out)return u.last_flush=-1,0}else if(0===e.avail_in&&G(B)<=G(M)&&4!==B)return nt(e,-5);if(666===u.status&&0!==e.avail_in)return nt(e,-5);if(0!==e.avail_in||0!==u.lookahead||0!==B&&666!==u.status){var J=2===u.strategy?function(A,W){for(var X;;){if(0===A.lookahead&&(ht(A),0===A.lookahead)){if(0===W)return 1;break}if(A.match_length=0,X=n._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,X&&(T(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===W?(T(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(T(A,!1),0===A.strm.avail_out)?1:2}(u,B):3===u.strategy?function(A,W){for(var X,Q,tt,lt,st=A.window;;){if(A.lookahead<=H){if(ht(A),A.lookahead<=H&&0===W)return 1;if(0===A.lookahead)break}if(A.match_length=0,A.lookahead>=3&&0<A.strstart&&(Q=st[tt=A.strstart-1])===st[++tt]&&Q===st[++tt]&&Q===st[++tt]){lt=A.strstart+H;do{}while(Q===st[++tt]&&Q===st[++tt]&&Q===st[++tt]&&Q===st[++tt]&&Q===st[++tt]&&Q===st[++tt]&&Q===st[++tt]&&Q===st[++tt]&&tt<lt);A.match_length=H-(lt-tt),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=3?(X=n._tr_tally(A,1,A.match_length-3),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(X=n._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),X&&(T(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===W?(T(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(T(A,!1),0===A.strm.avail_out)?1:2}(u,B):f[u.level].func(u,B);if(3!==J&&4!==J||(u.status=666),1===J||3===J)return 0===e.avail_out&&(u.last_flush=-1),0;if(2===J&&(1===B?n._tr_align(u):5!==B&&(n._tr_stored_block(u,0,0,!1),3===B&&(it(u.head),0===u.lookahead&&(u.strstart=0,u.block_start=0,u.insert=0))),D(e),0===e.avail_out))return u.last_flush=-1,0}return 4!==B?0:u.wrap<=0?1:(2===u.wrap?(et(u,255&e.adler),et(u,e.adler>>8&255),et(u,e.adler>>16&255),et(u,e.adler>>24&255),et(u,255&e.total_in),et(u,e.total_in>>8&255),et(u,e.total_in>>16&255),et(u,e.total_in>>24&255)):($(u,e.adler>>>16),$(u,65535&e.adler)),D(e),0<u.wrap&&(u.wrap=-u.wrap),0!==u.pending?0:1)},w.deflateEnd=function(e){var B;return e&&e.state?42!==(B=e.state.status)&&69!==B&&73!==B&&91!==B&&103!==B&&B!==z&&666!==B?nt(e,p):(e.state=null,B===z?nt(e,-3):0):p},w.deflateSetDictionary=function(e,B){var M,u,o,x,L,J,A,W,X=B.length;if(!e||!e.state||2===(x=(M=e.state).wrap)||1===x&&42!==M.status||M.lookahead)return p;for(1===x&&(e.adler=h(e.adler,B,X,0)),M.wrap=0,X>=M.w_size&&(0===x&&(it(M.head),M.strstart=0,M.block_start=0,M.insert=0),W=new l.Buf8(M.w_size),l.arraySet(W,B,X-M.w_size,M.w_size,0),B=W,X=M.w_size),L=e.avail_in,J=e.next_in,A=e.input,e.avail_in=X,e.next_in=0,e.input=B,ht(M);M.lookahead>=3;){for(u=M.strstart,o=M.lookahead-2;M.ins_h=(M.ins_h<<M.hash_shift^M.window[u+3-1])&M.hash_mask,M.prev[u&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=u,u++,--o;);M.strstart=u,M.lookahead=2,ht(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=2,M.match_available=0,e.next_in=J,e.input=A,e.avail_in=L,M.wrap=x,0},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(b,I,w){"use strict";I.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(b,I,w){"use strict";I.exports=function(f,l){var n,h,t,C,_,v,a,p,r,d,s,m,y,S,R,P,O,q,E,H,V,g,z,i,F;i=f.input,t=(h=f.next_in)+(f.avail_in-5),F=f.output,_=(C=f.next_out)-(l-f.avail_out),v=C+(f.avail_out-257),a=(n=f.state).dmax,p=n.wsize,r=n.whave,d=n.wnext,s=n.window,m=n.hold,y=n.bits,S=n.lencode,R=n.distcode,P=(1<<n.lenbits)-1,O=(1<<n.distbits)-1;t:do{y<15&&(m+=i[h++]<<y,m+=i[h++]<<(y+=8),y+=8),q=S[m&P];e:for(;;){if(m>>>=E=q>>>24,y-=E,0==(E=q>>>16&255))F[C++]=65535&q;else{if(!(16&E)){if(0==(64&E)){q=S[(65535&q)+(m&(1<<E)-1)];continue e}if(32&E){n.mode=12;break t}f.msg="invalid literal/length code",n.mode=30;break t}H=65535&q,(E&=15)&&(y<E&&(m+=i[h++]<<y,y+=8),H+=m&(1<<E)-1,m>>>=E,y-=E),y<15&&(m+=i[h++]<<y,m+=i[h++]<<(y+=8),y+=8),q=R[m&O];i:for(;;){if(m>>>=E=q>>>24,y-=E,!(16&(E=q>>>16&255))){if(0==(64&E)){q=R[(65535&q)+(m&(1<<E)-1)];continue i}f.msg="invalid distance code",n.mode=30;break t}if(V=65535&q,y<(E&=15)&&(m+=i[h++]<<y,(y+=8)<E&&(m+=i[h++]<<y,y+=8)),a<(V+=m&(1<<E)-1)){f.msg="invalid distance too far back",n.mode=30;break t}if(m>>>=E,y-=E,(E=C-_)<V){if(r<(E=V-E)&&n.sane){f.msg="invalid distance too far back",n.mode=30;break t}if(z=s,(g=0)===d){if(g+=p-E,E<H){for(H-=E;F[C++]=s[g++],--E;);g=C-V,z=F}}else if(d<E){if(g+=p+d-E,(E-=d)<H){for(H-=E;F[C++]=s[g++],--E;);if(g=0,d<H){for(H-=E=d;F[C++]=s[g++],--E;);g=C-V,z=F}}}else if(g+=d-E,E<H){for(H-=E;F[C++]=s[g++],--E;);g=C-V,z=F}for(;2<H;)F[C++]=z[g++],F[C++]=z[g++],F[C++]=z[g++],H-=3;H&&(F[C++]=z[g++],1<H&&(F[C++]=z[g++]))}else{for(g=C-V;F[C++]=F[g++],F[C++]=F[g++],F[C++]=F[g++],2<(H-=3););H&&(F[C++]=F[g++],1<H&&(F[C++]=F[g++]))}break}}break}}while(h<t&&C<v);h-=H=y>>3,m&=(1<<(y-=H<<3))-1,f.next_in=h,f.next_out=C,f.avail_in=h<t?t-h+5:5-(h-t),f.avail_out=C<v?v-C+257:257-(C-v),n.hold=m,n.bits=y}},{}],49:[function(b,I,w){"use strict";var f=b("../utils/common"),l=b("./adler32"),n=b("./crc32"),h=b("./inffast"),t=b("./inftrees"),a=-2;function s(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(g){var z;return g&&g.state?(g.total_in=g.total_out=(z=g.state).total=0,g.msg="",z.wrap&&(g.adler=1&z.wrap),z.mode=1,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new f.Buf32(852),z.distcode=z.distdyn=new f.Buf32(592),z.sane=1,z.back=-1,0):a}function S(g){var z;return g&&g.state?((z=g.state).wsize=0,z.whave=0,z.wnext=0,y(g)):a}function R(g,z){var i,F;return g&&g.state?(F=g.state,z<0?(i=0,z=-z):(i=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?a:(null!==F.window&&F.wbits!==z&&(F.window=null),F.wrap=i,F.wbits=z,S(g))):a}function P(g,z){var i,F;return g?(F=new m,(g.state=F).window=null,0!==(i=R(g,z))&&(g.state=null),i):a}var O,q,E=!0;function H(g){if(E){var z;for(O=new f.Buf32(512),q=new f.Buf32(32),z=0;z<144;)g.lens[z++]=8;for(;z<256;)g.lens[z++]=9;for(;z<280;)g.lens[z++]=7;for(;z<288;)g.lens[z++]=8;for(t(1,g.lens,0,288,O,0,g.work,{bits:9}),z=0;z<32;)g.lens[z++]=5;t(2,g.lens,0,32,q,0,g.work,{bits:5}),E=!1}g.lencode=O,g.lenbits=9,g.distcode=q,g.distbits=5}function V(g,z,i,F){var rt,N=g.state;return null===N.window&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new f.Buf8(N.wsize)),F>=N.wsize?(f.arraySet(N.window,z,i-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(F<(rt=N.wsize-N.wnext)&&(rt=F),f.arraySet(N.window,z,i-F,rt,N.wnext),(F-=rt)?(f.arraySet(N.window,z,i-F,F,0),N.wnext=F,N.whave=N.wsize):(N.wnext+=rt,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=rt))),0}w.inflateReset=S,w.inflateReset2=R,w.inflateResetKeep=y,w.inflateInit=function(g){return P(g,15)},w.inflateInit2=P,w.inflate=function(g,z){var i,F,rt,N,nt,G,it,D,T,et,$,K,ht,ft,at,ot,ut,dt,_t,mt,e,B,M,u,o=0,x=new f.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&0!==g.avail_in)return a;12===(i=g.state).mode&&(i.mode=13),nt=g.next_out,rt=g.output,N=g.next_in,F=g.input,D=i.hold,T=i.bits,et=G=g.avail_in,$=it=g.avail_out,B=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;T<16;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(2&i.wrap&&35615===D){x[i.check=0]=255&D,x[1]=D>>>8&255,i.check=n(i.check,x,2,0),T=D=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&D)<<8)+(D>>8))%31){g.msg="incorrect header check",i.mode=30;break}if(8!=(15&D)){g.msg="unknown compression method",i.mode=30;break}if(T-=4,e=8+(15&(D>>>=4)),0===i.wbits)i.wbits=e;else if(e>i.wbits){g.msg="invalid window size",i.mode=30;break}i.dmax=1<<e,g.adler=i.check=1,i.mode=512&D?10:12,T=D=0;break;case 2:for(;T<16;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(i.flags=D,8!=(255&i.flags)){g.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){g.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=D>>8&1),512&i.flags&&(x[0]=255&D,x[1]=D>>>8&255,i.check=n(i.check,x,2,0)),T=D=0,i.mode=3;case 3:for(;T<32;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}i.head&&(i.head.time=D),512&i.flags&&(x[0]=255&D,x[1]=D>>>8&255,x[2]=D>>>16&255,x[3]=D>>>24&255,i.check=n(i.check,x,4,0)),T=D=0,i.mode=4;case 4:for(;T<16;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}i.head&&(i.head.xflags=255&D,i.head.os=D>>8),512&i.flags&&(x[0]=255&D,x[1]=D>>>8&255,i.check=n(i.check,x,2,0)),T=D=0,i.mode=5;case 5:if(1024&i.flags){for(;T<16;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}i.length=D,i.head&&(i.head.extra_len=D),512&i.flags&&(x[0]=255&D,x[1]=D>>>8&255,i.check=n(i.check,x,2,0)),T=D=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(G<(K=i.length)&&(K=G),K&&(i.head&&(e=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),f.arraySet(i.head.extra,F,N,K,e)),512&i.flags&&(i.check=n(i.check,F,K,N)),G-=K,N+=K,i.length-=K),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===G)break t;for(K=0;e=F[N+K++],i.head&&e&&i.length<65536&&(i.head.name+=String.fromCharCode(e)),e&&K<G;);if(512&i.flags&&(i.check=n(i.check,F,K,N)),G-=K,N+=K,e)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===G)break t;for(K=0;e=F[N+K++],i.head&&e&&i.length<65536&&(i.head.comment+=String.fromCharCode(e)),e&&K<G;);if(512&i.flags&&(i.check=n(i.check,F,K,N)),G-=K,N+=K,e)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;T<16;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(D!==(65535&i.check)){g.msg="header crc mismatch",i.mode=30;break}T=D=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),g.adler=i.check=0,i.mode=12;break;case 10:for(;T<32;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}g.adler=i.check=s(D),T=D=0,i.mode=11;case 11:if(0===i.havedict)return g.next_out=nt,g.avail_out=it,g.next_in=N,g.avail_in=G,i.hold=D,i.bits=T,2;g.adler=i.check=1,i.mode=12;case 12:if(5===z||6===z)break t;case 13:if(i.last){D>>>=7&T,T-=7&T,i.mode=27;break}for(;T<3;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}switch(i.last=1&D,T-=1,3&(D>>>=1)){case 0:i.mode=14;break;case 1:if(H(i),i.mode=20,6!==z)break;D>>>=2,T-=2;break t;case 2:i.mode=17;break;case 3:g.msg="invalid block type",i.mode=30}D>>>=2,T-=2;break;case 14:for(D>>>=7&T,T-=7&T;T<32;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if((65535&D)!=(D>>>16^65535)){g.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&D,T=D=0,i.mode=15,6===z)break t;case 15:i.mode=16;case 16:if(K=i.length){if(G<K&&(K=G),it<K&&(K=it),0===K)break t;f.arraySet(rt,F,N,K,nt),G-=K,N+=K,it-=K,nt+=K,i.length-=K;break}i.mode=12;break;case 17:for(;T<14;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(i.nlen=257+(31&D),T-=5,i.ndist=1+(31&(D>>>=5)),T-=5,i.ncode=4+(15&(D>>>=5)),D>>>=4,T-=4,286<i.nlen||30<i.ndist){g.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;T<3;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}i.lens[L[i.have++]]=7&D,D>>>=3,T-=3}for(;i.have<19;)i.lens[L[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,B=t(0,i.lens,0,19,i.lencode,0,i.work,M={bits:i.lenbits}),i.lenbits=M.bits,B){g.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;ot=(o=i.lencode[D&(1<<i.lenbits)-1])>>>16&255,ut=65535&o,!((at=o>>>24)<=T);){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(ut<16)D>>>=at,T-=at,i.lens[i.have++]=ut;else{if(16===ut){for(u=at+2;T<u;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(D>>>=at,T-=at,0===i.have){g.msg="invalid bit length repeat",i.mode=30;break}e=i.lens[i.have-1],K=3+(3&D),D>>>=2,T-=2}else if(17===ut){for(u=at+3;T<u;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}T-=at,e=0,K=3+(7&(D>>>=at)),D>>>=3,T-=3}else{for(u=at+7;T<u;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}T-=at,e=0,K=11+(127&(D>>>=at)),D>>>=7,T-=7}if(i.have+K>i.nlen+i.ndist){g.msg="invalid bit length repeat",i.mode=30;break}for(;K--;)i.lens[i.have++]=e}}if(30===i.mode)break;if(0===i.lens[256]){g.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,B=t(1,i.lens,0,i.nlen,i.lencode,0,i.work,M={bits:i.lenbits}),i.lenbits=M.bits,B){g.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,B=t(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,M={bits:i.distbits}),i.distbits=M.bits,B){g.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===z)break t;case 20:i.mode=21;case 21:if(6<=G&&258<=it){g.next_out=nt,g.avail_out=it,g.next_in=N,g.avail_in=G,i.hold=D,i.bits=T,h(g,$),nt=g.next_out,rt=g.output,it=g.avail_out,N=g.next_in,F=g.input,G=g.avail_in,D=i.hold,T=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;ot=(o=i.lencode[D&(1<<i.lenbits)-1])>>>16&255,ut=65535&o,!((at=o>>>24)<=T);){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(ot&&0==(240&ot)){for(dt=at,_t=ot,mt=ut;ot=(o=i.lencode[mt+((D&(1<<dt+_t)-1)>>dt)])>>>16&255,ut=65535&o,!(dt+(at=o>>>24)<=T);){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}D>>>=dt,T-=dt,i.back+=dt}if(D>>>=at,T-=at,i.back+=at,i.length=ut,0===ot){i.mode=26;break}if(32&ot){i.back=-1,i.mode=12;break}if(64&ot){g.msg="invalid literal/length code",i.mode=30;break}i.extra=15&ot,i.mode=22;case 22:if(i.extra){for(u=i.extra;T<u;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}i.length+=D&(1<<i.extra)-1,D>>>=i.extra,T-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;ot=(o=i.distcode[D&(1<<i.distbits)-1])>>>16&255,ut=65535&o,!((at=o>>>24)<=T);){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(0==(240&ot)){for(dt=at,_t=ot,mt=ut;ot=(o=i.distcode[mt+((D&(1<<dt+_t)-1)>>dt)])>>>16&255,ut=65535&o,!(dt+(at=o>>>24)<=T);){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}D>>>=dt,T-=dt,i.back+=dt}if(D>>>=at,T-=at,i.back+=at,64&ot){g.msg="invalid distance code",i.mode=30;break}i.offset=ut,i.extra=15&ot,i.mode=24;case 24:if(i.extra){for(u=i.extra;T<u;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}i.offset+=D&(1<<i.extra)-1,D>>>=i.extra,T-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){g.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===it)break t;if(i.offset>(K=$-it)){if((K=i.offset-K)>i.whave&&i.sane){g.msg="invalid distance too far back",i.mode=30;break}ht=K>i.wnext?i.wsize-(K-=i.wnext):i.wnext-K,K>i.length&&(K=i.length),ft=i.window}else ft=rt,ht=nt-i.offset,K=i.length;for(it<K&&(K=it),it-=K,i.length-=K;rt[nt++]=ft[ht++],--K;);0===i.length&&(i.mode=21);break;case 26:if(0===it)break t;rt[nt++]=i.length,it--,i.mode=21;break;case 27:if(i.wrap){for(;T<32;){if(0===G)break t;G--,D|=F[N++]<<T,T+=8}if(g.total_out+=$-=it,i.total+=$,$&&(g.adler=i.check=i.flags?n(i.check,rt,$,nt-$):l(i.check,rt,$,nt-$)),$=it,(i.flags?D:s(D))!==i.check){g.msg="incorrect data check",i.mode=30;break}T=D=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;T<32;){if(0===G)break t;G--,D+=F[N++]<<T,T+=8}if(D!==(4294967295&i.total)){g.msg="incorrect length check",i.mode=30;break}T=D=0}i.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;default:return a}return g.next_out=nt,g.avail_out=it,g.next_in=N,g.avail_in=G,i.hold=D,i.bits=T,(i.wsize||$!==g.avail_out&&i.mode<30&&(i.mode<27||4!==z))&&V(g,g.output,g.next_out,$-g.avail_out)?(i.mode=31,-4):($-=g.avail_out,g.total_in+=et-=g.avail_in,g.total_out+=$,i.total+=$,i.wrap&&$&&(g.adler=i.check=i.flags?n(i.check,rt,$,g.next_out-$):l(i.check,rt,$,g.next_out-$)),g.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==et&&0===$||4===z)&&0===B&&(B=-5),B)},w.inflateEnd=function(g){if(!g||!g.state)return a;var z=g.state;return z.window&&(z.window=null),g.state=null,0},w.inflateGetHeader=function(g,z){var i;return g&&g.state?0==(2&(i=g.state).wrap)?a:((i.head=z).done=!1,0):a},w.inflateSetDictionary=function(g,z){var i,F=z.length;return g&&g.state?0!==(i=g.state).wrap&&11!==i.mode?a:11===i.mode&&l(1,z,F,0)!==i.check?-3:V(g,z,F,F)?(i.mode=31,-4):(i.havedict=1,0):a},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(b,I,w){"use strict";var f=b("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],t=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];I.exports=function(C,_,v,a,p,r,d,s){var m,y,S,R,P,O,q,E,H,V=s.bits,g=0,z=0,i=0,F=0,rt=0,N=0,nt=0,G=0,it=0,D=0,T=null,et=0,$=new f.Buf16(16),K=new f.Buf16(16),ht=null,ft=0;for(g=0;g<=15;g++)$[g]=0;for(z=0;z<a;z++)$[_[v+z]]++;for(rt=V,F=15;1<=F&&0===$[F];F--);if(F<rt&&(rt=F),0===F)return p[r++]=20971520,p[r++]=20971520,s.bits=1,0;for(i=1;i<F&&0===$[i];i++);for(rt<i&&(rt=i),g=G=1;g<=15;g++)if(G<<=1,(G-=$[g])<0)return-1;if(0<G&&(0===C||1!==F))return-1;for(K[1]=0,g=1;g<15;g++)K[g+1]=K[g]+$[g];for(z=0;z<a;z++)0!==_[v+z]&&(d[K[_[v+z]]++]=z);if(O=0===C?(T=ht=d,19):1===C?(T=l,et-=257,ht=n,ft-=257,256):(T=h,ht=t,-1),g=i,P=r,nt=z=D=0,S=-1,R=(it=1<<(N=rt))-1,1===C&&852<it||2===C&&592<it)return 1;for(;;){for(q=g-nt,H=d[z]<O?(E=0,d[z]):d[z]>O?(E=ht[ft+d[z]],T[et+d[z]]):(E=96,0),m=1<<g-nt,i=y=1<<N;p[P+(D>>nt)+(y-=m)]=q<<24|E<<16|H|0,0!==y;);for(m=1<<g-1;D&m;)m>>=1;if(0!==m?(D&=m-1,D+=m):D=0,z++,0==--$[g]){if(g===F)break;g=_[v+d[z]]}if(rt<g&&(D&R)!==S){for(0===nt&&(nt=rt),P+=i,G=1<<(N=g-nt);N+nt<F&&!((G-=$[N+nt])<=0);)N++,G<<=1;if(it+=1<<N,1===C&&852<it||2===C&&592<it)return 1;p[S=D&R]=rt<<24|N<<16|P-r|0}}return 0!==D&&(p[P+D]=g-nt<<24|64<<16|0),s.bits=rt,0}},{"../utils/common":41}],51:[function(b,I,w){"use strict";I.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(b,I,w){"use strict";var f=b("../utils/common");function h(o){for(var x=o.length;0<=--x;)o[x]=0}var _=256,v=286,a=30,d=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);h(V);var g=new Array(60);h(g);var z=new Array(512);h(z);var i=new Array(256);h(i);var F=new Array(29);h(F);var rt,N,nt,G=new Array(a);function it(o,x,L,J,A){this.static_tree=o,this.extra_bits=x,this.extra_base=L,this.elems=J,this.max_length=A,this.has_stree=o&&o.length}function D(o,x){this.dyn_tree=o,this.max_code=0,this.stat_desc=x}function T(o){return o<256?z[o]:z[256+(o>>>7)]}function et(o,x){o.pending_buf[o.pending++]=255&x,o.pending_buf[o.pending++]=x>>>8&255}function $(o,x,L){o.bi_valid>16-L?(o.bi_buf|=x<<o.bi_valid&65535,et(o,o.bi_buf),o.bi_buf=x>>16-o.bi_valid,o.bi_valid+=L-16):(o.bi_buf|=x<<o.bi_valid&65535,o.bi_valid+=L)}function K(o,x,L){$(o,L[2*x],L[2*x+1])}function ht(o,x){for(var L=0;L|=1&o,o>>>=1,L<<=1,0<--x;);return L>>>1}function ft(o,x,L){var J,A,W=new Array(16),X=0;for(J=1;J<=d;J++)W[J]=X=X+L[J-1]<<1;for(A=0;A<=x;A++){var Q=o[2*A+1];0!==Q&&(o[2*A]=ht(W[Q]++,Q))}}function at(o){var x;for(x=0;x<v;x++)o.dyn_ltree[2*x]=0;for(x=0;x<a;x++)o.dyn_dtree[2*x]=0;for(x=0;x<19;x++)o.bl_tree[2*x]=0;o.dyn_ltree[512]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0}function ot(o){8<o.bi_valid?et(o,o.bi_buf):0<o.bi_valid&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0}function ut(o,x,L,J){var A=2*x,W=2*L;return o[A]<o[W]||o[A]===o[W]&&J[x]<=J[L]}function dt(o,x,L){for(var J=o.heap[L],A=L<<1;A<=o.heap_len&&(A<o.heap_len&&ut(x,o.heap[A+1],o.heap[A],o.depth)&&A++,!ut(x,J,o.heap[A],o.depth));)o.heap[L]=o.heap[A],L=A,A<<=1;o.heap[L]=J}function _t(o,x,L){var J,A,W,X,Q=0;if(0!==o.last_lit)for(;J=o.pending_buf[o.d_buf+2*Q]<<8|o.pending_buf[o.d_buf+2*Q+1],A=o.pending_buf[o.l_buf+Q],Q++,0===J?K(o,A,x):(K(o,(W=i[A])+_+1,x),0!==(X=O[W])&&$(o,A-=F[W],X),K(o,W=T(--J),L),0!==(X=q[W])&&$(o,J-=G[W],X)),Q<o.last_lit;);K(o,256,x)}function mt(o,x){var L,J,A,W=x.dyn_tree,X=x.stat_desc.static_tree,Q=x.stat_desc.has_stree,tt=x.stat_desc.elems,lt=-1;for(o.heap_len=0,o.heap_max=573,L=0;L<tt;L++)0!==W[2*L]?(o.heap[++o.heap_len]=lt=L,o.depth[L]=0):W[2*L+1]=0;for(;o.heap_len<2;)W[2*(A=o.heap[++o.heap_len]=lt<2?++lt:0)]=1,o.depth[A]=0,o.opt_len--,Q&&(o.static_len-=X[2*A+1]);for(x.max_code=lt,L=o.heap_len>>1;1<=L;L--)dt(o,W,L);for(A=tt;L=o.heap[1],o.heap[1]=o.heap[o.heap_len--],dt(o,W,1),J=o.heap[1],o.heap[--o.heap_max]=L,o.heap[--o.heap_max]=J,W[2*A]=W[2*L]+W[2*J],o.depth[A]=(o.depth[L]>=o.depth[J]?o.depth[L]:o.depth[J])+1,W[2*L+1]=W[2*J+1]=A,o.heap[1]=A++,dt(o,W,1),2<=o.heap_len;);o.heap[--o.heap_max]=o.heap[1],function(st,pt){var gt,Y,k,c,U,Z,j=pt.dyn_tree,ct=pt.max_code,vt=pt.stat_desc.static_tree,xt=pt.stat_desc.has_stree,Ct=pt.stat_desc.extra_bits,yt=pt.stat_desc.extra_base,bt=pt.stat_desc.max_length,wt=0;for(c=0;c<=d;c++)st.bl_count[c]=0;for(j[2*st.heap[st.heap_max]+1]=0,gt=st.heap_max+1;gt<573;gt++)bt<(c=j[2*j[2*(Y=st.heap[gt])+1]+1]+1)&&(c=bt,wt++),j[2*Y+1]=c,ct<Y||(st.bl_count[c]++,U=0,yt<=Y&&(U=Ct[Y-yt]),st.opt_len+=(Z=j[2*Y])*(c+U),xt&&(st.static_len+=Z*(vt[2*Y+1]+U)));if(0!==wt){do{for(c=bt-1;0===st.bl_count[c];)c--;st.bl_count[c]--,st.bl_count[c+1]+=2,st.bl_count[bt]--,wt-=2}while(0<wt);for(c=bt;0!==c;c--)for(Y=st.bl_count[c];0!==Y;)ct<(k=st.heap[--gt])||(j[2*k+1]!==c&&(st.opt_len+=(c-j[2*k+1])*j[2*k],j[2*k+1]=c),Y--)}}(o,x),ft(W,lt,o.bl_count)}function e(o,x,L){var J,A,W=-1,X=x[1],Q=0,tt=7,lt=4;for(0===X&&(tt=138,lt=3),x[2*(L+1)+1]=65535,J=0;J<=L;J++)A=X,X=x[2*(J+1)+1],++Q<tt&&A===X||(Q<lt?o.bl_tree[2*A]+=Q:0!==A?(A!==W&&o.bl_tree[2*A]++,o.bl_tree[32]++):Q<=10?o.bl_tree[34]++:o.bl_tree[36]++,W=A,lt=(Q=0)===X?(tt=138,3):A===X?(tt=6,3):(tt=7,4))}function B(o,x,L){var J,A,W=-1,X=x[1],Q=0,tt=7,lt=4;for(0===X&&(tt=138,lt=3),J=0;J<=L;J++)if(A=X,X=x[2*(J+1)+1],!(++Q<tt&&A===X)){if(Q<lt)for(;K(o,A,o.bl_tree),0!=--Q;);else 0!==A?(A!==W&&(K(o,A,o.bl_tree),Q--),K(o,16,o.bl_tree),$(o,Q-3,2)):Q<=10?(K(o,17,o.bl_tree),$(o,Q-3,3)):(K(o,18,o.bl_tree),$(o,Q-11,7));W=A,lt=(Q=0)===X?(tt=138,3):A===X?(tt=6,3):(tt=7,4)}}h(G);var M=!1;function u(o,x,L,J){var A,W,X;$(o,0+(J?1:0),3),W=x,X=L,ot(A=o),et(A,X),et(A,~X),f.arraySet(A.pending_buf,A.window,W,X,A.pending),A.pending+=X}w._tr_init=function(o){M||(function(){var x,L,J,A,W,X=new Array(16);for(A=J=0;A<28;A++)for(F[A]=J,x=0;x<1<<O[A];x++)i[J++]=A;for(i[J-1]=A,A=W=0;A<16;A++)for(G[A]=W,x=0;x<1<<q[A];x++)z[W++]=A;for(W>>=7;A<a;A++)for(G[A]=W<<7,x=0;x<1<<q[A]-7;x++)z[256+W++]=A;for(L=0;L<=d;L++)X[L]=0;for(x=0;x<=143;)V[2*x+1]=8,x++,X[8]++;for(;x<=255;)V[2*x+1]=9,x++,X[9]++;for(;x<=279;)V[2*x+1]=7,x++,X[7]++;for(;x<=287;)V[2*x+1]=8,x++,X[8]++;for(ft(V,287,X),x=0;x<a;x++)g[2*x+1]=5,g[2*x]=ht(x,5);rt=new it(V,O,257,v,d),N=new it(g,q,0,a,d),nt=new it(new Array(0),E,0,19,7)}(),M=!0),o.l_desc=new D(o.dyn_ltree,rt),o.d_desc=new D(o.dyn_dtree,N),o.bl_desc=new D(o.bl_tree,nt),o.bi_buf=0,o.bi_valid=0,at(o)},w._tr_stored_block=u,w._tr_flush_block=function(o,x,L,J){var A,W,X=0;0<o.level?(2===o.strm.data_type&&(o.strm.data_type=function(Q){var tt,lt=4093624447;for(tt=0;tt<=31;tt++,lt>>>=1)if(1&lt&&0!==Q.dyn_ltree[2*tt])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(tt=32;tt<_;tt++)if(0!==Q.dyn_ltree[2*tt])return 1;return 0}(o)),mt(o,o.l_desc),mt(o,o.d_desc),X=function(Q){var tt;for(e(Q,Q.dyn_ltree,Q.l_desc.max_code),e(Q,Q.dyn_dtree,Q.d_desc.max_code),mt(Q,Q.bl_desc),tt=18;3<=tt&&0===Q.bl_tree[2*H[tt]+1];tt--);return Q.opt_len+=3*(tt+1)+5+5+4,tt}(o),(W=o.static_len+3+7>>>3)<=(A=o.opt_len+3+7>>>3)&&(A=W)):A=W=L+5,L+4<=A&&-1!==x?u(o,x,L,J):4===o.strategy||W===A?($(o,2+(J?1:0),3),_t(o,V,g)):($(o,4+(J?1:0),3),function(Q,tt,lt,st){var pt;for($(Q,tt-257,5),$(Q,lt-1,5),$(Q,st-4,4),pt=0;pt<st;pt++)$(Q,Q.bl_tree[2*H[pt]+1],3);B(Q,Q.dyn_ltree,tt-1),B(Q,Q.dyn_dtree,lt-1)}(o,o.l_desc.max_code+1,o.d_desc.max_code+1,X+1),_t(o,o.dyn_ltree,o.dyn_dtree)),at(o),J&&ot(o)},w._tr_tally=function(o,x,L){return o.pending_buf[o.d_buf+2*o.last_lit]=x>>>8&255,o.pending_buf[o.d_buf+2*o.last_lit+1]=255&x,o.pending_buf[o.l_buf+o.last_lit]=255&L,o.last_lit++,0===x?o.dyn_ltree[2*L]++:(o.matches++,x--,o.dyn_ltree[2*(i[L]+_+1)]++,o.dyn_dtree[2*T(x)]++),o.last_lit===o.lit_bufsize-1},w._tr_align=function(o){var x;$(o,2,3),K(o,256,V),16===(x=o).bi_valid?(et(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}},{"../utils/common":41}],53:[function(b,I,w){"use strict";I.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(b,I,w){(function(f){!function(l,n){"use strict";if(!l.setImmediate){var h,t,C,_,v=1,a={},p=!1,r=l.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(l);d=d&&d.setTimeout?d:l,h="[object process]"==={}.toString.call(l.process)?function(S){process.nextTick(function(){m(S)})}:function(){if(l.postMessage&&!l.importScripts){var S=!0,R=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=R,S}}()?(_="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",y,!1):l.attachEvent("onmessage",y),function(S){l.postMessage(_+S,"*")}):l.MessageChannel?((C=new MessageChannel).port1.onmessage=function(S){m(S.data)},function(S){C.port2.postMessage(S)}):r&&"onreadystatechange"in r.createElement("script")?(t=r.documentElement,function(S){var R=r.createElement("script");R.onreadystatechange=function(){m(S),R.onreadystatechange=null,t.removeChild(R),R=null},t.appendChild(R)}):function(S){setTimeout(m,0,S)},d.setImmediate=function(S){"function"!=typeof S&&(S=new Function(""+S));for(var R=new Array(arguments.length-1),P=0;P<R.length;P++)R[P]=arguments[P+1];return a[v]={callback:S,args:R},h(v),v++},d.clearImmediate=s}function s(S){delete a[S]}function m(S){if(p)setTimeout(m,0,S);else{var R=a[S];if(R){p=!0;try{!function(P){var O=P.callback,q=P.args;switch(q.length){case 0:O();break;case 1:O(q[0]);break;case 2:O(q[0],q[1]);break;case 3:O(q[0],q[1],q[2]);break;default:O.apply(undefined,q)}}(R)}finally{s(S),p=!1}}}}function y(S){S.source===l&&"string"==typeof S.data&&0===S.data.indexOf(_)&&m(+S.data.slice(_.length))}}(typeof self>"u"?void 0===f?this:f:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}}]);