"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[609],{5609:(Q,R,a)=>{a.r(R),a.d(R,{ReportsModule:()=>s});var D=a(6895),T=a(9132),B=a(6373),i=a(3626);class C{constructor(){this.FromDate=new Date,this.ToDate=new Date,this.IsCancelled=0,this.UserId=0,this.BranchId=0,this.CompanyId=0,this.UserTypeId=0,this.UserName="",this.BranchName="",this.CompanyName="",this.UserTypeName=""}}var Z=a(2340),t=a(4650),k=a(529);class p{constructor(e){this.http=e,this.API_Url=Z.N.API_Url}GetBookingReport(e){return this.http.post(this.API_Url+"Report/BookingReport",e)}}p.\u0275fac=function(e){return new(e||p)(t.LFG(k.eN))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var N=a(7252),y=a(461),g=a(7687),r=a(4006),f=a(8455),v=a(9203);class d{constructor(e,n,l){this.dialogRef=e,this.data=n,this.sharedService=l,this.formData=new C,this.btnTxt=""}ngOnInit(){this.formData=this.data.formData,this.btnTxt=this.data.btnTxt}close(){this.dialogRef.close(this.formData)}}d.\u0275fac=function(e){return new(e||d)(t.Y36(g.hV),t.Y36(g.eJ),t.Y36(y.F))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-filter-popup"]],decls:22,vars:2,consts:[[1,"card"],[1,"card-body","scroll"],[1,"card-title"],[3,"keydown.enter"],["f","ngForm"],[1,"row"],[1,"col","col-sm-4","col-md-6","mb-3"],[1,"example-full-width"],["name","FromDate","type","date","matInput","","placeholder","FromDate...","required","",3,"ngModel","ngModelChange"],["FromDate","ngModel"],["name","ToDate","type","date","matInput","","placeholder","ToDate...","required","",3,"ngModel","ngModelChange"],["ToDate","ngModel"],[1,"col"],[1,"btn","btn-primary",3,"click"],[1,"col","text-left"],[1,"btn","btn-primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Add Item"),t.qZA(),t.TgZ(4,"form",3,4),t.NdJ("keydown.enter",function(m){return m.preventDefault()}),t.TgZ(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"input",8,9),t.NdJ("ngModelChange",function(m){return n.formData.FromDate=m}),t.qZA()()(),t.TgZ(11,"div",6)(12,"mat-form-field",7)(13,"input",10,11),t.NdJ("ngModelChange",function(m){return n.formData.ToDate=m}),t.qZA()()()(),t.TgZ(15,"div",5)(16,"div",12)(17,"button",13),t.NdJ("click",function(){return n.close()}),t._uU(18,"GET"),t.qZA()(),t.TgZ(19,"div",14)(20,"button",15),t._uU(21,"Back"),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",n.formData.FromDate),t.xp6(4),t.Q6J("ngModel",n.formData.ToDate))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F,f.v_,v.k0]});var h=a(8377);function F(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," CompanyName. "),t.qZA())}function _(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.CompanyName," ")}}function x(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," GRDate "),t.qZA())}function A(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.GRDate," ")}}function U(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," GRNO "),t.qZA())}function w(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.GRNO," ")}}function I(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," InvoiceNo "),t.qZA())}function S(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.InvoiceNo," ")}}function Y(o,e){1&o&&t._UZ(0,"mat-header-row")}function M(o,e){1&o&&t._UZ(0,"mat-row")}class u{constructor(e,n,l,m){this.dialog=e,this.SharedService=n,this.reportService=l,this.sessionService=m,this.BookingReportList=[],this.displayedColumns=["CompanyName","GRDate","GRNO","InvoiceNo"],this.formData=new C,this.btnTxt="GET"}applyFilter(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}showPopup(){this.dialog.open(d,{data:{formData:this.formData,btnTxt:this.btnTxt}}).afterClosed().subscribe(e=>{this.getBookingReport(e),this.reset()})}reset(){this.formData.FromDate=new Date}getBookingReport(e){this.reportService.GetBookingReport(e).subscribe(n=>{n.Success&&200==n.Status&&(this.BookingReportList=n.Result,this.dataSource=new i.by(this.BookingReportList))})}}u.\u0275fac=function(e){return new(e||u)(t.Y36(g.on),t.Y36(y.F),t.Y36(p),t.Y36(N.m))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-booking-report"]],decls:32,vars:3,consts:[[1,"text-right"],[1,"btn","btn-primary",3,"click"],["fxLayout","row wrap"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"bg-light","p-10","p-r-20","p-l-20"],["matInput","","placeholder","Search (Filter)",3,"keyup"],[1,"responsive-table"],[3,"dataSource"],["table",""],["matColumnDef","CompanyName"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","GRDate"],["matColumnDef","GRNO"],["matColumnDef","InvoiceNo"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-content")(2,"mat-card-title")(3,"span",0)(4,"button",1),t.NdJ("click",function(){return n.showPopup()}),t._uU(5,"Add"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",3)(8,"mat-card")(9,"mat-card-content")(10,"mat-card-title"),t._uU(11,"Filterable table"),t.qZA(),t.TgZ(12,"div",4)(13,"mat-form-field")(14,"input",5),t.NdJ("keyup",function(m){return n.applyFilter(m.target.value)}),t.qZA()()(),t.TgZ(15,"div",6)(16,"mat-table",7,8),t.ynx(18,9),t.YNc(19,F,2,0,"mat-header-cell",10),t.YNc(20,_,2,1,"mat-cell",11),t.BQk(),t.ynx(21,12),t.YNc(22,x,2,0,"mat-header-cell",10),t.YNc(23,A,2,1,"mat-cell",11),t.BQk(),t.ynx(24,13),t.YNc(25,U,2,0,"mat-header-cell",10),t.YNc(26,w,2,1,"mat-cell",11),t.BQk(),t.ynx(27,14),t.YNc(28,I,2,0,"mat-header-cell",10),t.YNc(29,S,2,1,"mat-cell",11),t.BQk(),t.YNc(30,Y,1,0,"mat-header-row",15),t.YNc(31,M,1,0,"mat-row",16),t.qZA()()()()()()()()),2&e&&(t.xp6(16),t.Q6J("dataSource",n.dataSource),t.xp6(14),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[f.v_,h.S$,h.Qi,h.mi,v.k0,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk]});const b=[{path:"",children:[{path:"Booking-report",canActivate:[B.g],component:u,data:{title:"Booking Report",urls:[{title:"Booking Report",url:"/Booking-report"},{title:"New Booking Report"}]}}]}];class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[T.Bz.forChild(b),T.Bz]});var J=a(4393),G=a(5208),P=a(9818);class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[D.ez,c,r.u5,r.UX,f.wp,h.IF,P.yu,v.x4,J.D8,G.uw,i.p0]})}}]);